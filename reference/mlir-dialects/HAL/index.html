
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://openxla.github.io/iree/reference/mlir-dialects/HAL/">
      
      
        <link rel="prev" href="../Flow/">
      
      
        <link rel="next" href="../HALInline/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.16">
    
    
      
        <title>HAL - IREE</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto:300,300i,400,400i,700,700i%7CNoto+Sans+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto";--md-code-font:"Noto Sans Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../assets/stylesheets/openxla.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hal-dialect" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine base classes -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to community home -->
    <a
      href="https://github.com/openxla/community"
      title="OpenXLA"
      class="md-header__button md-logo"
      aria-label="OpenXLA"
      data-md-component="logo"
    >
      
  <img src="../../../assets/images/openxla-logo-lockup-white.svg" alt="logo">

    </a>

    <!-- Link to site home -->
    <a
      href="../../.."
      title="IREE"
      class="md-header__button md-logo"
      aria-label="IREE"
      data-md-component="logo"
    >
      <div class="md-header__title">
        IREE
      </div>
    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div data-md-component="header-topic">
          <span class="md-ellipsis">
            
              HAL
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: light)"
            data-md-color-scheme="default"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label="Switch to dark mode"
            
            type="radio"
            name="__palette"
            id="__palette_1"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to dark mode"
              for="__palette_2"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: dark)"
            data-md-color-scheme="slate"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label="Switch to light mode"
            
            type="radio"
            name="__palette"
            id="__palette_2"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to light mode"
              for="__palette_1"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/openxla/iree" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    openxla/iree
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../building-from-source/" class="md-tabs__link">
        Building from source
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../guides/" class="md-tabs__link">
        Guides
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../community/" class="md-tabs__link">
        Community
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to configuration -->


  



<!-- Main navigation -->
<nav
  class="md-nav md-nav--primary md-nav--lifted"
  aria-label="Navigation"
  data-md-level="0"
>

  <!-- Community site logo / home page link -->
  <label class="md-nav__title" for="__drawer">
    <a
      href="https://github.com/openxla/community"
      title="IREE"
      class="md-nav__button md-logo"
      aria-label="IREE"
      data-md-component="logo"
    >
      
  <img src="../../../assets/images/openxla-logo-lockup-white.svg" alt="logo">

    </a>
    <!-- Site title (nav item below links to site home) -->
    IREE
  </label>

  <!-- Repository information -->
  
    <div class="md-nav__source">
      <a href="https://github.com/openxla/iree" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    openxla/iree
  </div>
</a>
    </div>
  

  <!-- Render item list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../building-from-source/">Building from source</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Building from source
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/android/" class="md-nav__link">
        Android cross-compilation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/ios/" class="md-nav__link">
        iOS cross-compilation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/riscv/" class="md-nav__link">
        RISC-V cross-compilation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../guides/">Guides</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../guides/ml-frameworks/">ML frameworks</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          ML frameworks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/tensorflow/" class="md-nav__link">
        TensorFlow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/tflite/" class="md-nav__link">
        TensorFlow Lite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/jax/" class="md-nav__link">
        JAX
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/pytorch/" class="md-nav__link">
        PyTorch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../guides/deployment-configurations/">Deployment configurations</a>
          
            <label for="__nav_3_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Deployment configurations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/cpu/" class="md-nav__link">
        CPU
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/bare-metal/" class="md-nav__link">
        CPU - Bare-Metal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/gpu-vulkan/" class="md-nav__link">
        GPU - Vulkan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/gpu-cuda-rocm/" class="md-nav__link">
        GPU - CUDA/ROCm
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Other topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Other topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/developer-tips/" class="md-nav__link">
        Developer tips and tricks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Reference</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../bindings/">API bindings</a>
          
            <label for="__nav_4_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          API bindings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bindings/c-api/" class="md-nav__link">
        Runtime C API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bindings/python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bindings/tensorflow-lite/" class="md-nav__link">
        TensorFlow Lite
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">MLIR dialects</a>
          
            <label for="__nav_4_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          MLIR dialects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Check/" class="md-nav__link">
        Check
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Flow/" class="md-nav__link">
        Flow
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          HAL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        HAL
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#operation-definition" class="md-nav__link">
    Operation definition
  </a>
  
    <nav class="md-nav" aria-label="Operation definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allocator-ops" class="md-nav__link">
    Allocator ops
  </a>
  
    <nav class="md-nav" aria-label="Allocator ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halallocatorallocateinitialized-halallocatorallocateinitializedop" class="md-nav__link">
    hal.allocator.allocate.initialized (HAL::AllocatorAllocateInitializedOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halallocatorallocate-halallocatorallocateop" class="md-nav__link">
    hal.allocator.allocate (HAL::AllocatorAllocateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halallocatortry_map-halallocatortrymapop" class="md-nav__link">
    hal.allocator.try_map (HAL::AllocatorTryMapOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer-ops" class="md-nav__link">
    Buffer ops
  </a>
  
    <nav class="md-nav" aria-label="Buffer ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halbufferassert-halbufferassertop" class="md-nav__link">
    hal.buffer.assert (HAL::BufferAssertOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbufferlength-halbufferlengthop" class="md-nav__link">
    hal.buffer.length (HAL::BufferLengthOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbufferload-halbufferloadop" class="md-nav__link">
    hal.buffer.load (HAL::BufferLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbufferstore-halbufferstoreop" class="md-nav__link">
    hal.buffer.store (HAL::BufferStoreOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffersubspan-halbuffersubspanop" class="md-nav__link">
    hal.buffer.subspan (HAL::BufferSubspanOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer-view-ops" class="md-nav__link">
    Buffer view ops
  </a>
  
    <nav class="md-nav" aria-label="Buffer view ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewassert-halbufferviewassertop" class="md-nav__link">
    hal.buffer_view.assert (HAL::BufferViewAssertOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewbuffer-halbufferviewbufferop" class="md-nav__link">
    hal.buffer_view.buffer (HAL::BufferViewBufferOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewcreate-halbufferviewcreateop" class="md-nav__link">
    hal.buffer_view.create (HAL::BufferViewCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewdim-halbufferviewdimop" class="md-nav__link">
    hal.buffer_view.dim (HAL::BufferViewDimOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewelement_type-halbufferviewelementtypeop" class="md-nav__link">
    hal.buffer_view.element_type (HAL::BufferViewElementTypeOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewencoding_type-halbufferviewencodingtypeop" class="md-nav__link">
    hal.buffer_view.encoding_type (HAL::BufferViewEncodingTypeOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewrank-halbufferviewrankop" class="md-nav__link">
    hal.buffer_view.rank (HAL::BufferViewRankOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewtrace-halbufferviewtraceop" class="md-nav__link">
    hal.buffer_view.trace (HAL::BufferViewTraceOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-ops" class="md-nav__link">
    Channel ops
  </a>
  
    <nav class="md-nav" aria-label="Channel ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halchannelcreate-halchannelcreateop" class="md-nav__link">
    hal.channel.create (HAL::ChannelCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halchannelrank_and_count-halchannelrankandcountop" class="md-nav__link">
    hal.channel.rank_and_count (HAL::ChannelRankAndCountOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halchannelsplit-halchannelsplitop" class="md-nav__link">
    hal.channel.split (HAL::ChannelSplitOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-buffer-ops" class="md-nav__link">
    Command buffer ops
  </a>
  
    <nav class="md-nav" aria-label="Command buffer ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferbegin_debug_group-halcommandbufferbegindebuggroupop" class="md-nav__link">
    hal.command_buffer.begin_debug_group (HAL::CommandBufferBeginDebugGroupOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_buffercollective-halcommandbuffercollectiveop" class="md-nav__link">
    hal.command_buffer.collective (HAL::CommandBufferCollectiveOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_buffercopy_buffer-halcommandbuffercopybufferop" class="md-nav__link">
    hal.command_buffer.copy_buffer (HAL::CommandBufferCopyBufferOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_buffercreate-halcommandbuffercreateop" class="md-nav__link">
    hal.command_buffer.create (HAL::CommandBufferCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferdevice-halcommandbufferdeviceop" class="md-nav__link">
    hal.command_buffer.device (HAL::CommandBufferDeviceOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferdispatchindirect-halcommandbufferdispatchindirectop" class="md-nav__link">
    hal.command_buffer.dispatch.indirect (HAL::CommandBufferDispatchIndirectOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferdispatchindirectsymbol-halcommandbufferdispatchindirectsymbolop" class="md-nav__link">
    hal.command_buffer.dispatch.indirect.symbol (HAL::CommandBufferDispatchIndirectSymbolOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferdispatch-halcommandbufferdispatchop" class="md-nav__link">
    hal.command_buffer.dispatch (HAL::CommandBufferDispatchOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferdispatchsymbol-halcommandbufferdispatchsymbolop" class="md-nav__link">
    hal.command_buffer.dispatch.symbol (HAL::CommandBufferDispatchSymbolOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferend_debug_group-halcommandbufferenddebuggroupop" class="md-nav__link">
    hal.command_buffer.end_debug_group (HAL::CommandBufferEndDebugGroupOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferexecution_barrier-halcommandbufferexecutionbarrierop" class="md-nav__link">
    hal.command_buffer.execution_barrier (HAL::CommandBufferExecutionBarrierOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferfill_buffer-halcommandbufferfillbufferop" class="md-nav__link">
    hal.command_buffer.fill_buffer (HAL::CommandBufferFillBufferOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferfinalize-halcommandbufferfinalizeop" class="md-nav__link">
    hal.command_buffer.finalize (HAL::CommandBufferFinalizeOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferpush_constants-halcommandbufferpushconstantsop" class="md-nav__link">
    hal.command_buffer.push_constants (HAL::CommandBufferPushConstantsOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferpush_descriptor_set-halcommandbufferpushdescriptorsetop" class="md-nav__link">
    hal.command_buffer.push_descriptor_set (HAL::CommandBufferPushDescriptorSetOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptor-set-layout-ops" class="md-nav__link">
    Descriptor set layout ops
  </a>
  
    <nav class="md-nav" aria-label="Descriptor set layout ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#haldescriptor_set_layoutcreate-haldescriptorsetlayoutcreateop" class="md-nav__link">
    hal.descriptor_set_layout.create (HAL::DescriptorSetLayoutCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldescriptor_set_layoutlookup-haldescriptorsetlayoutlookupop" class="md-nav__link">
    hal.descriptor_set_layout.lookup (HAL::DescriptorSetLayoutLookupOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#device-ops" class="md-nav__link">
    Device ops
  </a>
  
    <nav class="md-nav" aria-label="Device ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#haldeviceallocator-haldeviceallocatorop" class="md-nav__link">
    hal.device.allocator (HAL::DeviceAllocatorOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldevicequery-haldevicequeryop" class="md-nav__link">
    hal.device.query (HAL::DeviceQueryOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldevicequeuealloca-haldevicequeueallocaop" class="md-nav__link">
    hal.device.queue.alloca (HAL::DeviceQueueAllocaOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldevicequeuedealloca-haldevicequeuedeallocaop" class="md-nav__link">
    hal.device.queue.dealloca (HAL::DeviceQueueDeallocaOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldevicequeueexecute-haldevicequeueexecuteop" class="md-nav__link">
    hal.device.queue.execute (HAL::DeviceQueueExecuteOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldevicequeueflush-haldevicequeueflushop" class="md-nav__link">
    hal.device.queue.flush (HAL::DeviceQueueFlushOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldeviceswitch-haldeviceswitchop" class="md-nav__link">
    hal.device.switch (HAL::DeviceSwitchOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halreturn-halreturnop" class="md-nav__link">
    hal.return (HAL::ReturnOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-ops" class="md-nav__link">
    Executable ops
  </a>
  
    <nav class="md-nav" aria-label="Executable ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halexecutablebinary-halexecutablebinaryop" class="md-nav__link">
    hal.executable.binary (HAL::ExecutableBinaryOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablecalculate_workgroups-halexecutablecalculateworkgroupsop" class="md-nav__link">
    hal.executable.calculate_workgroups (HAL::ExecutableCalculateWorkgroupsOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutableconstantblock-halexecutableconstantblockop" class="md-nav__link">
    hal.executable.constant.block (HAL::ExecutableConstantBlockOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutableconstantload-halexecutableconstantloadop" class="md-nav__link">
    hal.executable.constant.load (HAL::ExecutableConstantLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablecreate-halexecutablecreateop" class="md-nav__link">
    hal.executable.create (HAL::ExecutableCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutable_end-halexecutableendop" class="md-nav__link">
    hal.executable_end (HAL::ExecutableEndOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutableexport-halexecutableexportop" class="md-nav__link">
    hal.executable.export (HAL::ExecutableExportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablelookup-halexecutablelookupop" class="md-nav__link">
    hal.executable.lookup (HAL::ExecutableLookupOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutable-halexecutableop" class="md-nav__link">
    hal.executable (HAL::ExecutableOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablesource_end-halexecutablesourceendop" class="md-nav__link">
    hal.executable.source_end (HAL::ExecutableSourceEndOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablesource-halexecutablesourceop" class="md-nav__link">
    hal.executable.source (HAL::ExecutableSourceOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablevariant_end-halexecutablevariantendop" class="md-nav__link">
    hal.executable.variant_end (HAL::ExecutableVariantEndOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablevariant-halexecutablevariantop" class="md-nav__link">
    hal.executable.variant (HAL::ExecutableVariantOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experimental-ops" class="md-nav__link">
    Experimental ops
  </a>
  
    <nav class="md-nav" aria-label="Experimental ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halexshared_device-halexshareddeviceop" class="md-nav__link">
    hal.ex.shared_device (HAL::ExSharedDeviceOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fence-ops" class="md-nav__link">
    Fence ops
  </a>
  
    <nav class="md-nav" aria-label="Fence ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halfenceawait-halfenceawaitop" class="md-nav__link">
    hal.fence.await (HAL::FenceAwaitOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halfencecreate-halfencecreateop" class="md-nav__link">
    hal.fence.create (HAL::FenceCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halfencefail-halfencefailop" class="md-nav__link">
    hal.fence.fail (HAL::FenceFailOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halfencejoin-halfencejoinop" class="md-nav__link">
    hal.fence.join (HAL::FenceJoinOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halfencequery-halfencequeryop" class="md-nav__link">
    hal.fence.query (HAL::FenceQueryOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halfencesignal-halfencesignalop" class="md-nav__link">
    hal.fence.signal (HAL::FenceSignalOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instrument-ops" class="md-nav__link">
    Instrument ops
  </a>
  
    <nav class="md-nav" aria-label="Instrument ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halinstrumentmemoryload-halinstrumentmemoryloadop" class="md-nav__link">
    hal.instrument.memory.load (HAL::InstrumentMemoryLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinstrumentmemorystore-halinstrumentmemorystoreop" class="md-nav__link">
    hal.instrument.memory.store (HAL::InstrumentMemoryStoreOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinstrumentprint-halinstrumentprintop" class="md-nav__link">
    hal.instrument.print (HAL::InstrumentPrintOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinstrumentvalue-halinstrumentvalueop" class="md-nav__link">
    hal.instrument.value (HAL::InstrumentValueOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinstrumentworkgroup-halinstrumentworkgroupop" class="md-nav__link">
    hal.instrument.workgroup (HAL::InstrumentWorkgroupOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interface-ops" class="md-nav__link">
    Interface ops
  </a>
  
    <nav class="md-nav" aria-label="Interface ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halinterfacebindingsubspan-halinterfacebindingsubspanop" class="md-nav__link">
    hal.interface.binding.subspan (HAL::InterfaceBindingSubspanOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinterfaceconstantload-halinterfaceconstantloadop" class="md-nav__link">
    hal.interface.constant.load (HAL::InterfaceConstantLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinterfaceworkgroupcount-halinterfaceworkgroupcountop" class="md-nav__link">
    hal.interface.workgroup.count (HAL::InterfaceWorkgroupCountOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinterfaceworkgroupid-halinterfaceworkgroupidop" class="md-nav__link">
    hal.interface.workgroup.id (HAL::InterfaceWorkgroupIDOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinterfaceworkgroupsize-halinterfaceworkgroupsizeop" class="md-nav__link">
    hal.interface.workgroup.size (HAL::InterfaceWorkgroupSizeOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipeline-layout-ops" class="md-nav__link">
    Pipeline layout ops
  </a>
  
    <nav class="md-nav" aria-label="Pipeline layout ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halpipeline_layoutcreate-halpipelinelayoutcreateop" class="md-nav__link">
    hal.pipeline_layout.create (HAL::PipelineLayoutCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halpipeline_layoutlookup-halpipelinelayoutlookupop" class="md-nav__link">
    hal.pipeline_layout.lookup (HAL::PipelineLayoutLookupOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pseudo-ops" class="md-nav__link">
    Pseudo Ops
  </a>
  
    <nav class="md-nav" aria-label="Pseudo Ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#haltensorbarrier-haltensorbarrierop" class="md-nav__link">
    hal.tensor.barrier (HAL::TensorBarrierOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haltensorexport-haltensorexportop" class="md-nav__link">
    hal.tensor.export (HAL::TensorExportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haltensorimport-haltensorimportop" class="md-nav__link">
    hal.tensor.import (HAL::TensorImportOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-definition" class="md-nav__link">
    Attribute definition
  </a>
  
    <nav class="md-nav" aria-label="Attribute definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinityqueueattr" class="md-nav__link">
    AffinityQueueAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collectiveattr" class="md-nav__link">
    CollectiveAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptorsetbindingattr" class="md-nav__link">
    DescriptorSetBindingAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptorsetlayoutattr" class="md-nav__link">
    DescriptorSetLayoutAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptortypeattr" class="md-nav__link">
    DescriptorTypeAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicematcharchitectureattr" class="md-nav__link">
    DeviceMatchArchitectureAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicematchexecutableformatattr" class="md-nav__link">
    DeviceMatchExecutableFormatAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicematchfeatureattr" class="md-nav__link">
    DeviceMatchFeatureAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicematchidattr" class="md-nav__link">
    DeviceMatchIDAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicetargetattr" class="md-nav__link">
    DeviceTargetAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executableobjectattr" class="md-nav__link">
    ExecutableObjectAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executableobjectsattr" class="md-nav__link">
    ExecutableObjectsAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executabletargetattr" class="md-nav__link">
    ExecutableTargetAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interfacebindingattr" class="md-nav__link">
    InterfaceBindingAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matchallattr" class="md-nav__link">
    MatchAllAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matchalwaysattr" class="md-nav__link">
    MatchAlwaysAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matchanyattr" class="md-nav__link">
    MatchAnyAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipelinelayoutattr" class="md-nav__link">
    PipelineLayoutAttr
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-constraint-definition" class="md-nav__link">
    Type constraint definition
  </a>
  
    <nav class="md-nav" aria-label="Type constraint definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allocator" class="md-nav__link">
    allocator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer" class="md-nav__link">
    buffer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer_view" class="md-nav__link">
    buffer_view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collectivechannel" class="md-nav__link">
    collective.channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command_buffer" class="md-nav__link">
    command_buffer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptor_set_layout" class="md-nav__link">
    descriptor_set_layout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#device" class="md-nav__link">
    device
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event" class="md-nav__link">
    event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable" class="md-nav__link">
    executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fence" class="md-nav__link">
    fence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipeline_layout" class="md-nav__link">
    pipeline_layout
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../HALInline/" class="md-nav__link">
        HALInline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../HALLoader/" class="md-nav__link">
        HALLoader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Stream/" class="md-nav__link">
        Stream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Util/" class="md-nav__link">
        Util
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../VM/" class="md-nav__link">
        VM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../VMVX/" class="md-nav__link">
        VMVX
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          Other topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Other topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization-options/" class="md-nav__link">
        Optimization options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/" class="md-nav__link">
        Extensions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../community/">Community</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../community/blog/">Blog</a>
          
            <label for="__nav_5_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/blog/2021-10-15-cuda-backend/" class="md-nav__link">
        CUDA backend
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/blog/2021-10-13-mmt4d/" class="md-nav__link">
        Work in progress on Matrix Multiplication on CPU
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/blog/2021-07-19-tflite-tosa/" class="md-nav__link">
        TFLite Support via TOSA
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#operation-definition" class="md-nav__link">
    Operation definition
  </a>
  
    <nav class="md-nav" aria-label="Operation definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allocator-ops" class="md-nav__link">
    Allocator ops
  </a>
  
    <nav class="md-nav" aria-label="Allocator ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halallocatorallocateinitialized-halallocatorallocateinitializedop" class="md-nav__link">
    hal.allocator.allocate.initialized (HAL::AllocatorAllocateInitializedOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halallocatorallocate-halallocatorallocateop" class="md-nav__link">
    hal.allocator.allocate (HAL::AllocatorAllocateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halallocatortry_map-halallocatortrymapop" class="md-nav__link">
    hal.allocator.try_map (HAL::AllocatorTryMapOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer-ops" class="md-nav__link">
    Buffer ops
  </a>
  
    <nav class="md-nav" aria-label="Buffer ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halbufferassert-halbufferassertop" class="md-nav__link">
    hal.buffer.assert (HAL::BufferAssertOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbufferlength-halbufferlengthop" class="md-nav__link">
    hal.buffer.length (HAL::BufferLengthOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbufferload-halbufferloadop" class="md-nav__link">
    hal.buffer.load (HAL::BufferLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbufferstore-halbufferstoreop" class="md-nav__link">
    hal.buffer.store (HAL::BufferStoreOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffersubspan-halbuffersubspanop" class="md-nav__link">
    hal.buffer.subspan (HAL::BufferSubspanOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer-view-ops" class="md-nav__link">
    Buffer view ops
  </a>
  
    <nav class="md-nav" aria-label="Buffer view ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewassert-halbufferviewassertop" class="md-nav__link">
    hal.buffer_view.assert (HAL::BufferViewAssertOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewbuffer-halbufferviewbufferop" class="md-nav__link">
    hal.buffer_view.buffer (HAL::BufferViewBufferOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewcreate-halbufferviewcreateop" class="md-nav__link">
    hal.buffer_view.create (HAL::BufferViewCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewdim-halbufferviewdimop" class="md-nav__link">
    hal.buffer_view.dim (HAL::BufferViewDimOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewelement_type-halbufferviewelementtypeop" class="md-nav__link">
    hal.buffer_view.element_type (HAL::BufferViewElementTypeOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewencoding_type-halbufferviewencodingtypeop" class="md-nav__link">
    hal.buffer_view.encoding_type (HAL::BufferViewEncodingTypeOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewrank-halbufferviewrankop" class="md-nav__link">
    hal.buffer_view.rank (HAL::BufferViewRankOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halbuffer_viewtrace-halbufferviewtraceop" class="md-nav__link">
    hal.buffer_view.trace (HAL::BufferViewTraceOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-ops" class="md-nav__link">
    Channel ops
  </a>
  
    <nav class="md-nav" aria-label="Channel ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halchannelcreate-halchannelcreateop" class="md-nav__link">
    hal.channel.create (HAL::ChannelCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halchannelrank_and_count-halchannelrankandcountop" class="md-nav__link">
    hal.channel.rank_and_count (HAL::ChannelRankAndCountOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halchannelsplit-halchannelsplitop" class="md-nav__link">
    hal.channel.split (HAL::ChannelSplitOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-buffer-ops" class="md-nav__link">
    Command buffer ops
  </a>
  
    <nav class="md-nav" aria-label="Command buffer ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferbegin_debug_group-halcommandbufferbegindebuggroupop" class="md-nav__link">
    hal.command_buffer.begin_debug_group (HAL::CommandBufferBeginDebugGroupOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_buffercollective-halcommandbuffercollectiveop" class="md-nav__link">
    hal.command_buffer.collective (HAL::CommandBufferCollectiveOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_buffercopy_buffer-halcommandbuffercopybufferop" class="md-nav__link">
    hal.command_buffer.copy_buffer (HAL::CommandBufferCopyBufferOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_buffercreate-halcommandbuffercreateop" class="md-nav__link">
    hal.command_buffer.create (HAL::CommandBufferCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferdevice-halcommandbufferdeviceop" class="md-nav__link">
    hal.command_buffer.device (HAL::CommandBufferDeviceOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferdispatchindirect-halcommandbufferdispatchindirectop" class="md-nav__link">
    hal.command_buffer.dispatch.indirect (HAL::CommandBufferDispatchIndirectOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferdispatchindirectsymbol-halcommandbufferdispatchindirectsymbolop" class="md-nav__link">
    hal.command_buffer.dispatch.indirect.symbol (HAL::CommandBufferDispatchIndirectSymbolOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferdispatch-halcommandbufferdispatchop" class="md-nav__link">
    hal.command_buffer.dispatch (HAL::CommandBufferDispatchOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferdispatchsymbol-halcommandbufferdispatchsymbolop" class="md-nav__link">
    hal.command_buffer.dispatch.symbol (HAL::CommandBufferDispatchSymbolOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferend_debug_group-halcommandbufferenddebuggroupop" class="md-nav__link">
    hal.command_buffer.end_debug_group (HAL::CommandBufferEndDebugGroupOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferexecution_barrier-halcommandbufferexecutionbarrierop" class="md-nav__link">
    hal.command_buffer.execution_barrier (HAL::CommandBufferExecutionBarrierOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferfill_buffer-halcommandbufferfillbufferop" class="md-nav__link">
    hal.command_buffer.fill_buffer (HAL::CommandBufferFillBufferOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferfinalize-halcommandbufferfinalizeop" class="md-nav__link">
    hal.command_buffer.finalize (HAL::CommandBufferFinalizeOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferpush_constants-halcommandbufferpushconstantsop" class="md-nav__link">
    hal.command_buffer.push_constants (HAL::CommandBufferPushConstantsOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halcommand_bufferpush_descriptor_set-halcommandbufferpushdescriptorsetop" class="md-nav__link">
    hal.command_buffer.push_descriptor_set (HAL::CommandBufferPushDescriptorSetOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptor-set-layout-ops" class="md-nav__link">
    Descriptor set layout ops
  </a>
  
    <nav class="md-nav" aria-label="Descriptor set layout ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#haldescriptor_set_layoutcreate-haldescriptorsetlayoutcreateop" class="md-nav__link">
    hal.descriptor_set_layout.create (HAL::DescriptorSetLayoutCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldescriptor_set_layoutlookup-haldescriptorsetlayoutlookupop" class="md-nav__link">
    hal.descriptor_set_layout.lookup (HAL::DescriptorSetLayoutLookupOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#device-ops" class="md-nav__link">
    Device ops
  </a>
  
    <nav class="md-nav" aria-label="Device ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#haldeviceallocator-haldeviceallocatorop" class="md-nav__link">
    hal.device.allocator (HAL::DeviceAllocatorOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldevicequery-haldevicequeryop" class="md-nav__link">
    hal.device.query (HAL::DeviceQueryOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldevicequeuealloca-haldevicequeueallocaop" class="md-nav__link">
    hal.device.queue.alloca (HAL::DeviceQueueAllocaOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldevicequeuedealloca-haldevicequeuedeallocaop" class="md-nav__link">
    hal.device.queue.dealloca (HAL::DeviceQueueDeallocaOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldevicequeueexecute-haldevicequeueexecuteop" class="md-nav__link">
    hal.device.queue.execute (HAL::DeviceQueueExecuteOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldevicequeueflush-haldevicequeueflushop" class="md-nav__link">
    hal.device.queue.flush (HAL::DeviceQueueFlushOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haldeviceswitch-haldeviceswitchop" class="md-nav__link">
    hal.device.switch (HAL::DeviceSwitchOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halreturn-halreturnop" class="md-nav__link">
    hal.return (HAL::ReturnOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-ops" class="md-nav__link">
    Executable ops
  </a>
  
    <nav class="md-nav" aria-label="Executable ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halexecutablebinary-halexecutablebinaryop" class="md-nav__link">
    hal.executable.binary (HAL::ExecutableBinaryOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablecalculate_workgroups-halexecutablecalculateworkgroupsop" class="md-nav__link">
    hal.executable.calculate_workgroups (HAL::ExecutableCalculateWorkgroupsOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutableconstantblock-halexecutableconstantblockop" class="md-nav__link">
    hal.executable.constant.block (HAL::ExecutableConstantBlockOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutableconstantload-halexecutableconstantloadop" class="md-nav__link">
    hal.executable.constant.load (HAL::ExecutableConstantLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablecreate-halexecutablecreateop" class="md-nav__link">
    hal.executable.create (HAL::ExecutableCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutable_end-halexecutableendop" class="md-nav__link">
    hal.executable_end (HAL::ExecutableEndOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutableexport-halexecutableexportop" class="md-nav__link">
    hal.executable.export (HAL::ExecutableExportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablelookup-halexecutablelookupop" class="md-nav__link">
    hal.executable.lookup (HAL::ExecutableLookupOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutable-halexecutableop" class="md-nav__link">
    hal.executable (HAL::ExecutableOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablesource_end-halexecutablesourceendop" class="md-nav__link">
    hal.executable.source_end (HAL::ExecutableSourceEndOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablesource-halexecutablesourceop" class="md-nav__link">
    hal.executable.source (HAL::ExecutableSourceOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablevariant_end-halexecutablevariantendop" class="md-nav__link">
    hal.executable.variant_end (HAL::ExecutableVariantEndOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halexecutablevariant-halexecutablevariantop" class="md-nav__link">
    hal.executable.variant (HAL::ExecutableVariantOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experimental-ops" class="md-nav__link">
    Experimental ops
  </a>
  
    <nav class="md-nav" aria-label="Experimental ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halexshared_device-halexshareddeviceop" class="md-nav__link">
    hal.ex.shared_device (HAL::ExSharedDeviceOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fence-ops" class="md-nav__link">
    Fence ops
  </a>
  
    <nav class="md-nav" aria-label="Fence ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halfenceawait-halfenceawaitop" class="md-nav__link">
    hal.fence.await (HAL::FenceAwaitOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halfencecreate-halfencecreateop" class="md-nav__link">
    hal.fence.create (HAL::FenceCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halfencefail-halfencefailop" class="md-nav__link">
    hal.fence.fail (HAL::FenceFailOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halfencejoin-halfencejoinop" class="md-nav__link">
    hal.fence.join (HAL::FenceJoinOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halfencequery-halfencequeryop" class="md-nav__link">
    hal.fence.query (HAL::FenceQueryOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halfencesignal-halfencesignalop" class="md-nav__link">
    hal.fence.signal (HAL::FenceSignalOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instrument-ops" class="md-nav__link">
    Instrument ops
  </a>
  
    <nav class="md-nav" aria-label="Instrument ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halinstrumentmemoryload-halinstrumentmemoryloadop" class="md-nav__link">
    hal.instrument.memory.load (HAL::InstrumentMemoryLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinstrumentmemorystore-halinstrumentmemorystoreop" class="md-nav__link">
    hal.instrument.memory.store (HAL::InstrumentMemoryStoreOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinstrumentprint-halinstrumentprintop" class="md-nav__link">
    hal.instrument.print (HAL::InstrumentPrintOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinstrumentvalue-halinstrumentvalueop" class="md-nav__link">
    hal.instrument.value (HAL::InstrumentValueOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinstrumentworkgroup-halinstrumentworkgroupop" class="md-nav__link">
    hal.instrument.workgroup (HAL::InstrumentWorkgroupOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interface-ops" class="md-nav__link">
    Interface ops
  </a>
  
    <nav class="md-nav" aria-label="Interface ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halinterfacebindingsubspan-halinterfacebindingsubspanop" class="md-nav__link">
    hal.interface.binding.subspan (HAL::InterfaceBindingSubspanOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinterfaceconstantload-halinterfaceconstantloadop" class="md-nav__link">
    hal.interface.constant.load (HAL::InterfaceConstantLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinterfaceworkgroupcount-halinterfaceworkgroupcountop" class="md-nav__link">
    hal.interface.workgroup.count (HAL::InterfaceWorkgroupCountOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinterfaceworkgroupid-halinterfaceworkgroupidop" class="md-nav__link">
    hal.interface.workgroup.id (HAL::InterfaceWorkgroupIDOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halinterfaceworkgroupsize-halinterfaceworkgroupsizeop" class="md-nav__link">
    hal.interface.workgroup.size (HAL::InterfaceWorkgroupSizeOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipeline-layout-ops" class="md-nav__link">
    Pipeline layout ops
  </a>
  
    <nav class="md-nav" aria-label="Pipeline layout ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halpipeline_layoutcreate-halpipelinelayoutcreateop" class="md-nav__link">
    hal.pipeline_layout.create (HAL::PipelineLayoutCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#halpipeline_layoutlookup-halpipelinelayoutlookupop" class="md-nav__link">
    hal.pipeline_layout.lookup (HAL::PipelineLayoutLookupOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pseudo-ops" class="md-nav__link">
    Pseudo Ops
  </a>
  
    <nav class="md-nav" aria-label="Pseudo Ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#haltensorbarrier-haltensorbarrierop" class="md-nav__link">
    hal.tensor.barrier (HAL::TensorBarrierOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haltensorexport-haltensorexportop" class="md-nav__link">
    hal.tensor.export (HAL::TensorExportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haltensorimport-haltensorimportop" class="md-nav__link">
    hal.tensor.import (HAL::TensorImportOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-definition" class="md-nav__link">
    Attribute definition
  </a>
  
    <nav class="md-nav" aria-label="Attribute definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinityqueueattr" class="md-nav__link">
    AffinityQueueAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collectiveattr" class="md-nav__link">
    CollectiveAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptorsetbindingattr" class="md-nav__link">
    DescriptorSetBindingAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptorsetlayoutattr" class="md-nav__link">
    DescriptorSetLayoutAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptortypeattr" class="md-nav__link">
    DescriptorTypeAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicematcharchitectureattr" class="md-nav__link">
    DeviceMatchArchitectureAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicematchexecutableformatattr" class="md-nav__link">
    DeviceMatchExecutableFormatAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicematchfeatureattr" class="md-nav__link">
    DeviceMatchFeatureAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicematchidattr" class="md-nav__link">
    DeviceMatchIDAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicetargetattr" class="md-nav__link">
    DeviceTargetAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executableobjectattr" class="md-nav__link">
    ExecutableObjectAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executableobjectsattr" class="md-nav__link">
    ExecutableObjectsAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executabletargetattr" class="md-nav__link">
    ExecutableTargetAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interfacebindingattr" class="md-nav__link">
    InterfaceBindingAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matchallattr" class="md-nav__link">
    MatchAllAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matchalwaysattr" class="md-nav__link">
    MatchAlwaysAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matchanyattr" class="md-nav__link">
    MatchAnyAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipelinelayoutattr" class="md-nav__link">
    PipelineLayoutAttr
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-constraint-definition" class="md-nav__link">
    Type constraint definition
  </a>
  
    <nav class="md-nav" aria-label="Type constraint definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allocator" class="md-nav__link">
    allocator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer" class="md-nav__link">
    buffer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer_view" class="md-nav__link">
    buffer_view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collectivechannel" class="md-nav__link">
    collective.channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command_buffer" class="md-nav__link">
    command_buffer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptor_set_layout" class="md-nav__link">
    descriptor_set_layout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#device" class="md-nav__link">
    device
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event" class="md-nav__link">
    event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable" class="md-nav__link">
    executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fence" class="md-nav__link">
    fence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipeline_layout" class="md-nav__link">
    pipeline_layout
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  
  


<!-- Autogenerated by mlir-tblgen; don't manually edit -->

<h1 id="hal-dialect">'hal' Dialect<a class="headerlink" href="#hal-dialect" title="Permanent link">link</a></h1>
<p>A dialect representing operations against the IREE HAL.</p>
<p>This can be thought of as a Vulkan-like model with all of the graphics bits
chopped out.</p>
<p>The type set is limited to those that can be represented in the IREE HAL
design: buffers and views, synchronization primitives like semaphores, and
and command buffers. The intent is that if a device could implement the HAL
interface the sequencer ops could run on that device, such as being able to
run on a GPU via indirect command buffers.</p>
<p>Though this is mostly a 1:1 mapping to the iree::hal API there are some
methods omitted as they are not likely to be needed in IR. It's assumed that
either sequencer interfaces will encapsulate the logic (such as device
resolution) or that certain features are unsafe to expose to user-defined
input.</p>
<div class="toc">
<ul>
<li><a href="#hal-dialect">'hal' Dialect</a><ul>
<li><a href="#operation-definition">Operation definition</a><ul>
<li><a href="#allocator-ops">Allocator ops</a><ul>
<li><a href="#halallocatorallocateinitialized-halallocatorallocateinitializedop">hal.allocator.allocate.initialized (HAL::AllocatorAllocateInitializedOp)</a></li>
<li><a href="#halallocatorallocate-halallocatorallocateop">hal.allocator.allocate (HAL::AllocatorAllocateOp)</a></li>
<li><a href="#halallocatortry_map-halallocatortrymapop">hal.allocator.try_map (HAL::AllocatorTryMapOp)</a></li>
</ul>
</li>
<li><a href="#buffer-ops">Buffer ops</a><ul>
<li><a href="#halbufferassert-halbufferassertop">hal.buffer.assert (HAL::BufferAssertOp)</a></li>
<li><a href="#halbufferlength-halbufferlengthop">hal.buffer.length (HAL::BufferLengthOp)</a></li>
<li><a href="#halbufferload-halbufferloadop">hal.buffer.load (HAL::BufferLoadOp)</a></li>
<li><a href="#halbufferstore-halbufferstoreop">hal.buffer.store (HAL::BufferStoreOp)</a></li>
<li><a href="#halbuffersubspan-halbuffersubspanop">hal.buffer.subspan (HAL::BufferSubspanOp)</a></li>
</ul>
</li>
<li><a href="#buffer-view-ops">Buffer view ops</a><ul>
<li><a href="#halbuffer_viewassert-halbufferviewassertop">hal.buffer_view.assert (HAL::BufferViewAssertOp)</a></li>
<li><a href="#halbuffer_viewbuffer-halbufferviewbufferop">hal.buffer_view.buffer (HAL::BufferViewBufferOp)</a></li>
<li><a href="#halbuffer_viewcreate-halbufferviewcreateop">hal.buffer_view.create (HAL::BufferViewCreateOp)</a></li>
<li><a href="#halbuffer_viewdim-halbufferviewdimop">hal.buffer_view.dim (HAL::BufferViewDimOp)</a></li>
<li><a href="#halbuffer_viewelement_type-halbufferviewelementtypeop">hal.buffer_view.element_type (HAL::BufferViewElementTypeOp)</a></li>
<li><a href="#halbuffer_viewencoding_type-halbufferviewencodingtypeop">hal.buffer_view.encoding_type (HAL::BufferViewEncodingTypeOp)</a></li>
<li><a href="#halbuffer_viewrank-halbufferviewrankop">hal.buffer_view.rank (HAL::BufferViewRankOp)</a></li>
<li><a href="#halbuffer_viewtrace-halbufferviewtraceop">hal.buffer_view.trace (HAL::BufferViewTraceOp)</a></li>
</ul>
</li>
<li><a href="#channel-ops">Channel ops</a><ul>
<li><a href="#halchannelcreate-halchannelcreateop">hal.channel.create (HAL::ChannelCreateOp)</a></li>
<li><a href="#halchannelrank_and_count-halchannelrankandcountop">hal.channel.rank_and_count (HAL::ChannelRankAndCountOp)</a></li>
<li><a href="#halchannelsplit-halchannelsplitop">hal.channel.split (HAL::ChannelSplitOp)</a></li>
</ul>
</li>
<li><a href="#command-buffer-ops">Command buffer ops</a><ul>
<li><a href="#halcommand_bufferbegin_debug_group-halcommandbufferbegindebuggroupop">hal.command_buffer.begin_debug_group (HAL::CommandBufferBeginDebugGroupOp)</a></li>
<li><a href="#halcommand_buffercollective-halcommandbuffercollectiveop">hal.command_buffer.collective (HAL::CommandBufferCollectiveOp)</a></li>
<li><a href="#halcommand_buffercopy_buffer-halcommandbuffercopybufferop">hal.command_buffer.copy_buffer (HAL::CommandBufferCopyBufferOp)</a></li>
<li><a href="#halcommand_buffercreate-halcommandbuffercreateop">hal.command_buffer.create (HAL::CommandBufferCreateOp)</a></li>
<li><a href="#halcommand_bufferdevice-halcommandbufferdeviceop">hal.command_buffer.device (HAL::CommandBufferDeviceOp)</a></li>
<li><a href="#halcommand_bufferdispatchindirect-halcommandbufferdispatchindirectop">hal.command_buffer.dispatch.indirect (HAL::CommandBufferDispatchIndirectOp)</a></li>
<li><a href="#halcommand_bufferdispatchindirectsymbol-halcommandbufferdispatchindirectsymbolop">hal.command_buffer.dispatch.indirect.symbol (HAL::CommandBufferDispatchIndirectSymbolOp)</a></li>
<li><a href="#halcommand_bufferdispatch-halcommandbufferdispatchop">hal.command_buffer.dispatch (HAL::CommandBufferDispatchOp)</a></li>
<li><a href="#halcommand_bufferdispatchsymbol-halcommandbufferdispatchsymbolop">hal.command_buffer.dispatch.symbol (HAL::CommandBufferDispatchSymbolOp)</a></li>
<li><a href="#halcommand_bufferend_debug_group-halcommandbufferenddebuggroupop">hal.command_buffer.end_debug_group (HAL::CommandBufferEndDebugGroupOp)</a></li>
<li><a href="#halcommand_bufferexecution_barrier-halcommandbufferexecutionbarrierop">hal.command_buffer.execution_barrier (HAL::CommandBufferExecutionBarrierOp)</a></li>
<li><a href="#halcommand_bufferfill_buffer-halcommandbufferfillbufferop">hal.command_buffer.fill_buffer (HAL::CommandBufferFillBufferOp)</a></li>
<li><a href="#halcommand_bufferfinalize-halcommandbufferfinalizeop">hal.command_buffer.finalize (HAL::CommandBufferFinalizeOp)</a></li>
<li><a href="#halcommand_bufferpush_constants-halcommandbufferpushconstantsop">hal.command_buffer.push_constants (HAL::CommandBufferPushConstantsOp)</a></li>
<li><a href="#halcommand_bufferpush_descriptor_set-halcommandbufferpushdescriptorsetop">hal.command_buffer.push_descriptor_set (HAL::CommandBufferPushDescriptorSetOp)</a></li>
</ul>
</li>
<li><a href="#descriptor-set-layout-ops">Descriptor set layout ops</a><ul>
<li><a href="#haldescriptor_set_layoutcreate-haldescriptorsetlayoutcreateop">hal.descriptor_set_layout.create (HAL::DescriptorSetLayoutCreateOp)</a></li>
<li><a href="#haldescriptor_set_layoutlookup-haldescriptorsetlayoutlookupop">hal.descriptor_set_layout.lookup (HAL::DescriptorSetLayoutLookupOp)</a></li>
</ul>
</li>
<li><a href="#device-ops">Device ops</a><ul>
<li><a href="#haldeviceallocator-haldeviceallocatorop">hal.device.allocator (HAL::DeviceAllocatorOp)</a></li>
<li><a href="#haldevicequery-haldevicequeryop">hal.device.query (HAL::DeviceQueryOp)</a></li>
<li><a href="#haldevicequeuealloca-haldevicequeueallocaop">hal.device.queue.alloca (HAL::DeviceQueueAllocaOp)</a></li>
<li><a href="#haldevicequeuedealloca-haldevicequeuedeallocaop">hal.device.queue.dealloca (HAL::DeviceQueueDeallocaOp)</a></li>
<li><a href="#haldevicequeueexecute-haldevicequeueexecuteop">hal.device.queue.execute (HAL::DeviceQueueExecuteOp)</a></li>
<li><a href="#haldevicequeueflush-haldevicequeueflushop">hal.device.queue.flush (HAL::DeviceQueueFlushOp)</a></li>
<li><a href="#haldeviceswitch-haldeviceswitchop">hal.device.switch (HAL::DeviceSwitchOp)</a></li>
<li><a href="#halreturn-halreturnop">hal.return (HAL::ReturnOp)</a></li>
</ul>
</li>
<li><a href="#executable-ops">Executable ops</a><ul>
<li><a href="#halexecutablebinary-halexecutablebinaryop">hal.executable.binary (HAL::ExecutableBinaryOp)</a></li>
<li><a href="#halexecutablecalculate_workgroups-halexecutablecalculateworkgroupsop">hal.executable.calculate_workgroups (HAL::ExecutableCalculateWorkgroupsOp)</a></li>
<li><a href="#halexecutableconstantblock-halexecutableconstantblockop">hal.executable.constant.block (HAL::ExecutableConstantBlockOp)</a></li>
<li><a href="#halexecutableconstantload-halexecutableconstantloadop">hal.executable.constant.load (HAL::ExecutableConstantLoadOp)</a></li>
<li><a href="#halexecutablecreate-halexecutablecreateop">hal.executable.create (HAL::ExecutableCreateOp)</a></li>
<li><a href="#halexecutable_end-halexecutableendop">hal.executable_end (HAL::ExecutableEndOp)</a></li>
<li><a href="#halexecutableexport-halexecutableexportop">hal.executable.export (HAL::ExecutableExportOp)</a></li>
<li><a href="#halexecutablelookup-halexecutablelookupop">hal.executable.lookup (HAL::ExecutableLookupOp)</a></li>
<li><a href="#halexecutable-halexecutableop">hal.executable (HAL::ExecutableOp)</a></li>
<li><a href="#halexecutablesource_end-halexecutablesourceendop">hal.executable.source_end (HAL::ExecutableSourceEndOp)</a></li>
<li><a href="#halexecutablesource-halexecutablesourceop">hal.executable.source (HAL::ExecutableSourceOp)</a></li>
<li><a href="#halexecutablevariant_end-halexecutablevariantendop">hal.executable.variant_end (HAL::ExecutableVariantEndOp)</a></li>
<li><a href="#halexecutablevariant-halexecutablevariantop">hal.executable.variant (HAL::ExecutableVariantOp)</a></li>
</ul>
</li>
<li><a href="#experimental-ops">Experimental ops</a><ul>
<li><a href="#halexshared_device-halexshareddeviceop">hal.ex.shared_device (HAL::ExSharedDeviceOp)</a></li>
</ul>
</li>
<li><a href="#fence-ops">Fence ops</a><ul>
<li><a href="#halfenceawait-halfenceawaitop">hal.fence.await (HAL::FenceAwaitOp)</a></li>
<li><a href="#halfencecreate-halfencecreateop">hal.fence.create (HAL::FenceCreateOp)</a></li>
<li><a href="#halfencefail-halfencefailop">hal.fence.fail (HAL::FenceFailOp)</a></li>
<li><a href="#halfencejoin-halfencejoinop">hal.fence.join (HAL::FenceJoinOp)</a></li>
<li><a href="#halfencequery-halfencequeryop">hal.fence.query (HAL::FenceQueryOp)</a></li>
<li><a href="#halfencesignal-halfencesignalop">hal.fence.signal (HAL::FenceSignalOp)</a></li>
</ul>
</li>
<li><a href="#instrument-ops">Instrument ops</a><ul>
<li><a href="#halinstrumentmemoryload-halinstrumentmemoryloadop">hal.instrument.memory.load (HAL::InstrumentMemoryLoadOp)</a></li>
<li><a href="#halinstrumentmemorystore-halinstrumentmemorystoreop">hal.instrument.memory.store (HAL::InstrumentMemoryStoreOp)</a></li>
<li><a href="#halinstrumentprint-halinstrumentprintop">hal.instrument.print (HAL::InstrumentPrintOp)</a></li>
<li><a href="#halinstrumentvalue-halinstrumentvalueop">hal.instrument.value (HAL::InstrumentValueOp)</a></li>
<li><a href="#halinstrumentworkgroup-halinstrumentworkgroupop">hal.instrument.workgroup (HAL::InstrumentWorkgroupOp)</a></li>
</ul>
</li>
<li><a href="#interface-ops">Interface ops</a><ul>
<li><a href="#halinterfacebindingsubspan-halinterfacebindingsubspanop">hal.interface.binding.subspan (HAL::InterfaceBindingSubspanOp)</a></li>
<li><a href="#halinterfaceconstantload-halinterfaceconstantloadop">hal.interface.constant.load (HAL::InterfaceConstantLoadOp)</a></li>
<li><a href="#halinterfaceworkgroupcount-halinterfaceworkgroupcountop">hal.interface.workgroup.count (HAL::InterfaceWorkgroupCountOp)</a></li>
<li><a href="#halinterfaceworkgroupid-halinterfaceworkgroupidop">hal.interface.workgroup.id (HAL::InterfaceWorkgroupIDOp)</a></li>
<li><a href="#halinterfaceworkgroupsize-halinterfaceworkgroupsizeop">hal.interface.workgroup.size (HAL::InterfaceWorkgroupSizeOp)</a></li>
</ul>
</li>
<li><a href="#pipeline-layout-ops">Pipeline layout ops</a><ul>
<li><a href="#halpipeline_layoutcreate-halpipelinelayoutcreateop">hal.pipeline_layout.create (HAL::PipelineLayoutCreateOp)</a></li>
<li><a href="#halpipeline_layoutlookup-halpipelinelayoutlookupop">hal.pipeline_layout.lookup (HAL::PipelineLayoutLookupOp)</a></li>
</ul>
</li>
<li><a href="#pseudo-ops">Pseudo Ops</a><ul>
<li><a href="#haltensorbarrier-haltensorbarrierop">hal.tensor.barrier (HAL::TensorBarrierOp)</a></li>
<li><a href="#haltensorexport-haltensorexportop">hal.tensor.export (HAL::TensorExportOp)</a></li>
<li><a href="#haltensorimport-haltensorimportop">hal.tensor.import (HAL::TensorImportOp)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#attribute-definition">Attribute definition</a><ul>
<li><a href="#affinityqueueattr">AffinityQueueAttr</a></li>
<li><a href="#collectiveattr">CollectiveAttr</a></li>
<li><a href="#descriptorsetbindingattr">DescriptorSetBindingAttr</a></li>
<li><a href="#descriptorsetlayoutattr">DescriptorSetLayoutAttr</a></li>
<li><a href="#descriptortypeattr">DescriptorTypeAttr</a></li>
<li><a href="#devicematcharchitectureattr">DeviceMatchArchitectureAttr</a></li>
<li><a href="#devicematchexecutableformatattr">DeviceMatchExecutableFormatAttr</a></li>
<li><a href="#devicematchfeatureattr">DeviceMatchFeatureAttr</a></li>
<li><a href="#devicematchidattr">DeviceMatchIDAttr</a></li>
<li><a href="#devicetargetattr">DeviceTargetAttr</a></li>
<li><a href="#executableobjectattr">ExecutableObjectAttr</a></li>
<li><a href="#executableobjectsattr">ExecutableObjectsAttr</a></li>
<li><a href="#executabletargetattr">ExecutableTargetAttr</a></li>
<li><a href="#interfacebindingattr">InterfaceBindingAttr</a></li>
<li><a href="#matchallattr">MatchAllAttr</a></li>
<li><a href="#matchalwaysattr">MatchAlwaysAttr</a></li>
<li><a href="#matchanyattr">MatchAnyAttr</a></li>
<li><a href="#pipelinelayoutattr">PipelineLayoutAttr</a></li>
</ul>
</li>
<li><a href="#type-constraint-definition">Type constraint definition</a><ul>
<li><a href="#allocator">allocator</a></li>
<li><a href="#buffer">buffer</a></li>
<li><a href="#buffer_view">buffer_view</a></li>
<li><a href="#collectivechannel">collective.channel</a></li>
<li><a href="#command_buffer">command_buffer</a></li>
<li><a href="#descriptor_set_layout">descriptor_set_layout</a></li>
<li><a href="#device">device</a></li>
<li><a href="#event">event</a></li>
<li><a href="#executable">executable</a></li>
<li><a href="#fence">fence</a></li>
<li><a href="#pipeline_layout">pipeline_layout</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="operation-definition">Operation definition<a class="headerlink" href="#operation-definition" title="Permanent link">link</a></h2>
<h3 id="allocator-ops">Allocator ops<a class="headerlink" href="#allocator-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.allocator</code> / <code>iree_hal_allocator_t</code>.</p>
<h4 id="halallocatorallocateinitialized-halallocatorallocateinitializedop"><code>hal.allocator.allocate.initialized</code> (HAL::AllocatorAllocateInitializedOp)<a class="headerlink" href="#halallocatorallocateinitialized-halallocatorallocateinitializedop" title="Permanent link">link</a></h4>
<p><em>Allocator-supported host buffer wrapping operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.allocator.allocate.initialized` `&lt;` $allocator `:` type($allocator) `&gt;`
              `source` `(` $source `:` type($source) `)` `` `[` $offset `,` $length `]`
              `type` `(` $memory_types `)`
              `usage` `(` $buffer_usage `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Wraps a !hal.buffer around host read-only memory backed by the given byte
buffer. The returned buffer may be host-only and not directly usable on
devices.</p>
<p>Interfaces: OpAsmOpInterface, SizeAwareOpInterface</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>memory_types</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::MemoryTypeBitfieldAttr</td>
<td>valid MemoryType</td>
</tr>
<tr>
<td align="center"><code>buffer_usage</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::BufferUsageBitfieldAttr</td>
<td>valid BufferUsage</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>allocator</code></td>
<td>allocator</td>
</tr>
<tr>
<td align="center"><code>source</code></td>
<td>a reference counted byte buffer</td>
</tr>
<tr>
<td align="center"><code>offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>buffer</td>
</tr>
</tbody>
</table>
<h4 id="halallocatorallocate-halallocatorallocateop"><code>hal.allocator.allocate</code> (HAL::AllocatorAllocateOp)<a class="headerlink" href="#halallocatorallocate-halallocatorallocateop" title="Permanent link">link</a></h4>
<p><em>Empty buffer allocation operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.allocator.allocate` `&lt;` $allocator `:` type($allocator) `&gt;`
              `type` `(` $memory_types `)`
              `usage` `(` $buffer_usage `)`
              `:` custom&lt;SizeAwareType&gt;(type($result), $result_size)
              attr-dict-with-keyword
</code></pre></div>

<p>Allocates a buffer of the given size from the allocator.
The size of the buffer returned may be larger than the requested size if the
allocator has specific alignment requirements or minimum allocation sizes.</p>
<p>Interfaces: OpAsmOpInterface, SizeAwareOpInterface</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>memory_types</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::MemoryTypeBitfieldAttr</td>
<td>valid MemoryType</td>
</tr>
<tr>
<td align="center"><code>buffer_usage</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::BufferUsageBitfieldAttr</td>
<td>valid BufferUsage</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>allocator</code></td>
<td>allocator</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>buffer</td>
</tr>
</tbody>
</table>
<h4 id="halallocatortry_map-halallocatortrymapop"><code>hal.allocator.try_map</code> (HAL::AllocatorTryMapOp)<a class="headerlink" href="#halallocatortry_map-halallocatortrymapop" title="Permanent link">link</a></h4>
<p><em>Allocator-supported host buffer wrapping operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.allocator.try_map` `&lt;` $allocator `:` type($allocator) `&gt;`
              `source` `(` $source `:` type($source) `)` `` `[` $offset `,` $length `]`
              `type` `(` $memory_types `)`
              `usage` `(` $buffer_usage `)`
              `:` type($did_map) `,` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Tries wrapping a !hal.buffer around host read-only memory backed by the
given byte buffer. The returned buffer may be host-only and not directly
usable on devices. If the mapping cannot be completed (such as trying to
map the host memory as device-local on devices with discrete memory) then
did_map will indicate that the returned buffer is null.</p>
<p>Interfaces: OpAsmOpInterface, SizeAwareOpInterface</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>memory_types</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::MemoryTypeBitfieldAttr</td>
<td>valid MemoryType</td>
</tr>
<tr>
<td align="center"><code>buffer_usage</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::BufferUsageBitfieldAttr</td>
<td>valid BufferUsage</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>allocator</code></td>
<td>allocator</td>
</tr>
<tr>
<td align="center"><code>source</code></td>
<td>a reference counted byte buffer</td>
</tr>
<tr>
<td align="center"><code>offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>did_map</code></td>
<td>1-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>result</code></td>
<td>buffer</td>
</tr>
</tbody>
</table>
<h3 id="buffer-ops">Buffer ops<a class="headerlink" href="#buffer-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.buffer</code> / <code>iree_hal_buffer_t</code>.</p>
<h4 id="halbufferassert-halbufferassertop"><code>hal.buffer.assert</code> (HAL::BufferAssertOp)<a class="headerlink" href="#halbufferassert-halbufferassertop" title="Permanent link">link</a></h4>
<p><em>Buffer compatibility assertion</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer.assert` `&lt;` $buffer `:` type($buffer) `&gt;`
              `message` `(` $message `)`
              `allocator` `(` $allocator `:` type($allocator) `)`
              `minimum_length` `(` $minimum_length `)`
              `type` `(` $memory_types `)`
              `usage` `(` $buffer_usage `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Asserts that the buffer is compatible with the given allocator and usage.
Program execution will abort as if <code>std.assert</code> had been used.</p>
<p>This only checks that the buffer can be used and not that it matches the
given parameters exactly. Buffers may be from other allocators so long as
the allocators are compatible (devices can address each other's memory),
the type and usage contain all the requested bits (having more bits is ok),
and the length is at least the requested minimum (as padding may be
ignored).</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>message</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>memory_types</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::MemoryTypeBitfieldAttr</td>
<td>valid MemoryType</td>
</tr>
<tr>
<td align="center"><code>buffer_usage</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::BufferUsageBitfieldAttr</td>
<td>valid BufferUsage</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>allocator</code></td>
<td>allocator</td>
</tr>
<tr>
<td align="center"><code>minimum_length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halbufferlength-halbufferlengthop"><code>hal.buffer.length</code> (HAL::BufferLengthOp)<a class="headerlink" href="#halbufferlength-halbufferlengthop" title="Permanent link">link</a></h4>
<p><em>Buffer byte length accessor</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer.length` `&lt;` $buffer `:` type($buffer) `&gt;`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns the allocated size of a buffer in bytes.
May be less than the underlying buffer allocation if this is a subspan or
view into another buffer.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer</code></td>
<td>buffer</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halbufferload-halbufferloadop"><code>hal.buffer.load</code> (HAL::BufferLoadOp)<a class="headerlink" href="#halbufferload-halbufferloadop" title="Permanent link">link</a></h4>
<p><em>Buffer element load operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer.load` `&lt;` $source_buffer `:` type($source_buffer) `&gt;`
              `` `[` $source_offset `]`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Loads a value from a buffer by mapping it.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index or signless integer or floating-point or complex-type or vector of any type values</td>
</tr>
</tbody>
</table>
<h4 id="halbufferstore-halbufferstoreop"><code>hal.buffer.store</code> (HAL::BufferStoreOp)<a class="headerlink" href="#halbufferstore-halbufferstoreop" title="Permanent link">link</a></h4>
<p><em>Buffer element store operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer.store` `&lt;` $target_buffer `:` type($target_buffer) `&gt;`
              `` `[` $target_offset `]`
              `value` `(` $value `:` type($value) `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Stores a value into a buffer by mapping it.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>value</code></td>
<td>index or signless integer or floating-point or complex-type or vector of any type values</td>
</tr>
<tr>
<td align="center"><code>target_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halbuffersubspan-halbuffersubspanop"><code>hal.buffer.subspan</code> (HAL::BufferSubspanOp)<a class="headerlink" href="#halbuffersubspan-halbuffersubspanop" title="Permanent link">link</a></h4>
<p><em>Buffer subspan operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer.subspan` `&lt;` $source_buffer `:` type($source_buffer) `&gt;`
              `` `[` $source_offset `,` $length `]`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns a reference to a subspan of the buffer.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface, SizeAwareOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>buffer</td>
</tr>
</tbody>
</table>
<h3 id="buffer-view-ops">Buffer view ops<a class="headerlink" href="#buffer-view-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.buffer_view</code> / <code>iree_hal_buffer_view_t</code>.</p>
<h4 id="halbuffer_viewassert-halbufferviewassertop"><code>hal.buffer_view.assert</code> (HAL::BufferViewAssertOp)<a class="headerlink" href="#halbuffer_viewassert-halbufferviewassertop" title="Permanent link">link</a></h4>
<p><em>Buffer view contents assertion</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.assert` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `message` `(` $message `)`
              `shape` `(` `[` $shape `]` `)`
              `type` `(` $element_type `)`
              `encoding` `(` $encoding_type `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Asserts that the buffer view contains a data compatible tensor with the
given encoding. Program execution will abort as if <code>std.assert</code> had been
used.</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>message</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer_view</code></td>
<td>buffer_view</td>
</tr>
<tr>
<td align="center"><code>element_type</code></td>
<td>32-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>encoding_type</code></td>
<td>32-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>shape</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halbuffer_viewbuffer-halbufferviewbufferop"><code>hal.buffer_view.buffer</code> (HAL::BufferViewBufferOp)<a class="headerlink" href="#halbuffer_viewbuffer-halbufferviewbufferop" title="Permanent link">link</a></h4>
<p><em>Buffer view buffer accessor</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.buffer` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns the buffer backing this view's contents.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer_view</code></td>
<td>buffer_view</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>buffer</td>
</tr>
</tbody>
</table>
<h4 id="halbuffer_viewcreate-halbufferviewcreateop"><code>hal.buffer_view.create</code> (HAL::BufferViewCreateOp)<a class="headerlink" href="#halbuffer_viewcreate-halbufferviewcreateop" title="Permanent link">link</a></h4>
<p><em>Buffer view reference initializer</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.create` `buffer` `(` $source_buffer `:` type($source_buffer) `)`
              `` `[` $source_offset `,` $source_length `]`
              `shape` `(` `[` $shape `]` `)`
              `type` `(` $element_type `)`
              `encoding` `(` $encoding_type `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Creates a reference to a buffer with a particular shape and element type.
The buffer is not copied and both the original and view references must be
synchronized. This makes it easier to associate commonly-carried metadata
along with the contents.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_length</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>element_type</code></td>
<td>32-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>encoding_type</code></td>
<td>32-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>shape</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>buffer_view</td>
</tr>
</tbody>
</table>
<h4 id="halbuffer_viewdim-halbufferviewdimop"><code>hal.buffer_view.dim</code> (HAL::BufferViewDimOp)<a class="headerlink" href="#halbuffer_viewdim-halbufferviewdimop" title="Permanent link">link</a></h4>
<p><em>Buffer view dimension value query</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.dim` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `` `[` $index `]`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns the value of the given dimension.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>index</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer_view</code></td>
<td>buffer_view</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halbuffer_viewelement_type-halbufferviewelementtypeop"><code>hal.buffer_view.element_type</code> (HAL::BufferViewElementTypeOp)<a class="headerlink" href="#halbuffer_viewelement_type-halbufferviewelementtypeop" title="Permanent link">link</a></h4>
<p><em>Buffer view element type query</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.element_type` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns the element type of the buffer view.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer_view</code></td>
<td>buffer_view</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h4 id="halbuffer_viewencoding_type-halbufferviewencodingtypeop"><code>hal.buffer_view.encoding_type</code> (HAL::BufferViewEncodingTypeOp)<a class="headerlink" href="#halbuffer_viewencoding_type-halbufferviewencodingtypeop" title="Permanent link">link</a></h4>
<p><em>Buffer view encoding type query</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.encoding_type` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns the encoding type of the buffer view.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer_view</code></td>
<td>buffer_view</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h4 id="halbuffer_viewrank-halbufferviewrankop"><code>hal.buffer_view.rank</code> (HAL::BufferViewRankOp)<a class="headerlink" href="#halbuffer_viewrank-halbufferviewrankop" title="Permanent link">link</a></h4>
<p><em>Buffer view rank query</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.rank` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns the rank of the buffer view.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer_view</code></td>
<td>buffer_view</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halbuffer_viewtrace-halbufferviewtraceop"><code>hal.buffer_view.trace</code> (HAL::BufferViewTraceOp)<a class="headerlink" href="#halbuffer_viewtrace-halbufferviewtraceop" title="Permanent link">link</a></h4>
<p><em>Trace value(s) operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.trace` $operands `:` type($operands)
              attr-dict-with-keyword
</code></pre></div>

<p>Traces out to a runtime trace sink (console, log file, etc) the given buffer
views and titles them with the given key. The key is informational only and
useful for titling/marking specific sets of buffers for easier searching.</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>key</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>operands</code></td>
<td>buffer_view</td>
</tr>
</tbody>
</table>
<h3 id="channel-ops">Channel ops<a class="headerlink" href="#channel-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.channel</code> / <code>iree_hal_channel_t</code>.</p>
<h4 id="halchannelcreate-halchannelcreateop"><code>hal.channel.create</code> (HAL::ChannelCreateOp)<a class="headerlink" href="#halchannelcreate-halchannelcreateop" title="Permanent link">link</a></h4>
<p><em>Creates a new channel for collective communication</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.channel.create` `device` `(` $device `:` type($device) `)`
              `affinity` `(` $queue_affinity `)`
              `flags` `(` $flags `)`
              `id` `(` $id `)`
              `group` `(` $group `)`
              `rank` `(` $rank `)`
              `count` `(` $count `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns a new channel with the given rank associated with the given device
queue. Collective operations using this channel must only be submitted on
compatible queues.</p>
<p>The group and ID are optional and may be null. A rank or count of -1 can be
used to indicate a default inherited from the environment or device
configuration.</p>
<p>Interfaces: OpAsmOpInterface</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>flags</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>32-bit signless integer attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
<tr>
<td align="center"><code>queue_affinity</code></td>
<td>64-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>id</code></td>
<td>a reference counted byte buffer</td>
</tr>
<tr>
<td align="center"><code>group</code></td>
<td>a reference counted byte buffer</td>
</tr>
<tr>
<td align="center"><code>rank</code></td>
<td>32-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>count</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>collective.channel</td>
</tr>
</tbody>
</table>
<h4 id="halchannelrank_and_count-halchannelrankandcountop"><code>hal.channel.rank_and_count</code> (HAL::ChannelRankAndCountOp)<a class="headerlink" href="#halchannelrank_and_count-halchannelrankandcountop" title="Permanent link">link</a></h4>
<p><em>Returns the rank of the local participant in the group</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.channel.rank_and_count` `&lt;` $channel `:` type($channel) `&gt;`
              `:` type($rank) `,` type($count)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns the rank the channel represents as a participant in a collective
group in <code>[0, count)</code> and the total participant count.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>channel</code></td>
<td>collective.channel</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>rank</code></td>
<td>32-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>count</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h4 id="halchannelsplit-halchannelsplitop"><code>hal.channel.split</code> (HAL::ChannelSplitOp)<a class="headerlink" href="#halchannelsplit-halchannelsplitop" title="Permanent link">link</a></h4>
<p><em>Splits a collective communication channel</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.channel.split` `&lt;` $channel `:` type($channel) `&gt;`
              `color` `(` $color `)`
              `key` `(` $key `)`
              `flags` `(` $flags `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Partitions the group associated with the given channel into disjoint
subgroups for each unique value of color. Each new subgroup contains all
participants of the same color and within each subgroup the key argument
is used to define the rank order. When multiple participants in a group
use the same key the tie will be broken using their rank in the parent
group. A color of -1 indicates that the rank does not participate in any
subgroup and will return a null channel.</p>
<p>Interfaces: OpAsmOpInterface</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>flags</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>32-bit signless integer attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>channel</code></td>
<td>collective.channel</td>
</tr>
<tr>
<td align="center"><code>color</code></td>
<td>32-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>key</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>collective.channel</td>
</tr>
</tbody>
</table>
<h3 id="command-buffer-ops">Command buffer ops<a class="headerlink" href="#command-buffer-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.command_buffer</code> / <code>iree_hal_command_buffer_t</code>.</p>
<h4 id="halcommand_bufferbegin_debug_group-halcommandbufferbegindebuggroupop"><code>hal.command_buffer.begin_debug_group</code> (HAL::CommandBufferBeginDebugGroupOp)<a class="headerlink" href="#halcommand_bufferbegin_debug_group-halcommandbufferbegindebuggroupop" title="Permanent link">link</a></h4>
<p><em>Pushes a command buffer debug group label</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.begin_debug_group` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `label` `(` $label `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Pushes a new debug group with the given label.
All commands between this and a mandatory matching call to
<code>hal.command_buffer.end_debug_group</code> will be grouped together with the
given label.</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>label</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_buffercollective-halcommandbuffercollectiveop"><code>hal.command_buffer.collective</code> (HAL::CommandBufferCollectiveOp)<a class="headerlink" href="#halcommand_buffercollective-halcommandbuffercollectiveop" title="Permanent link">link</a></h4>
<p><em>Command buffer collective dispatch recording operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.collective` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `channel` `(` $channel `:` type($channel) `)`
              `op` `(` $op `)`
              (`param` `(` $param^ `:` type($param) `)`)?
              (`send` `(` $send_buffer^ `:` type($send_buffer) `)`
              `` `[` $send_offset `,` $send_length `]`)?
              (`recv` `(` $recv_buffer^ `:` type($recv_buffer) `)`
              `` `[` $recv_offset `,` $recv_length `]`)?
              `count` `(` $element_count `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Dispatches a collective operation defined by op using the given buffers.</p>
<p>Traits: AttrSizedOperandSegments</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>op</code></td>
<td align="center">::mlir::iree_compiler::IREE::HAL::CollectiveAttr</td>
<td>collective operation and specification</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
<tr>
<td align="center"><code>channel</code></td>
<td>collective.channel</td>
</tr>
<tr>
<td align="center"><code>element_count</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>param</code></td>
<td>32-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>send_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>send_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>send_length</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>recv_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>recv_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>recv_length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_buffercopy_buffer-halcommandbuffercopybufferop"><code>hal.command_buffer.copy_buffer</code> (HAL::CommandBufferCopyBufferOp)<a class="headerlink" href="#halcommand_buffercopy_buffer-halcommandbuffercopybufferop" title="Permanent link">link</a></h4>
<p><em>Command buffer buffer copy recording operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.copy_buffer` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `source` `(` $source_buffer `:` type($source_buffer) `)`
              `` `[` $source_offset `]`
              `target` `(` $target_buffer `:` type($target_buffer) `)`
              `` `[` $target_offset `]`
              `length` `(` $length `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Copies a range of one buffer to another.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
<tr>
<td align="center"><code>source_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_buffercreate-halcommandbuffercreateop"><code>hal.command_buffer.create</code> (HAL::CommandBufferCreateOp)<a class="headerlink" href="#halcommand_buffercreate-halcommandbuffercreateop" title="Permanent link">link</a></h4>
<p><em>Command buffer allocation operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.create` `device` `(` $device `:` type($device) `)`
              `mode` `(` $modes `)`
              `categories` `(` $command_categories `)`
              (`bindings` `(` $binding_capacity^ `)`)?
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns a command buffer from the device pool ready to begin recording.</p>
<p>Interfaces: OpAsmOpInterface</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>modes</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::CommandBufferModeBitfieldAttr</td>
<td>valid CommandBufferMode</td>
</tr>
<tr>
<td align="center"><code>command_categories</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::CommandCategoryBitfieldAttr</td>
<td>valid CommandCategory</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
<tr>
<td align="center"><code>binding_capacity</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>command_buffer</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferdevice-halcommandbufferdeviceop"><code>hal.command_buffer.device</code> (HAL::CommandBufferDeviceOp)<a class="headerlink" href="#halcommand_bufferdevice-halcommandbufferdeviceop" title="Permanent link">link</a></h4>
<p><em>Command buffer device query operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.device` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `:` type($device)
              attr-dict-with-keyword
</code></pre></div>

<p>Used during conversion to access the device used to create a command buffer.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferdispatchindirect-halcommandbufferdispatchindirectop"><code>hal.command_buffer.dispatch.indirect</code> (HAL::CommandBufferDispatchIndirectOp)<a class="headerlink" href="#halcommand_bufferdispatchindirect-halcommandbufferdispatchindirectop" title="Permanent link">link</a></h4>
<p><em>Command buffer indirect dispatch recording operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.dispatch.indirect` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `target` `(` $executable `:` type($executable) `)`
              `` `[` $entry_point `]`
              `workgroups` `(` $workgroups_buffer `:` type($workgroups_buffer) `)`
              `` `[` $workgroups_offset `]`
              attr-dict-with-keyword
</code></pre></div>

<p>Dispatches an execution request with the dispatch parameters loaded from the
given buffer.</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>entry_point</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>size_t</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
<tr>
<td align="center"><code>executable</code></td>
<td>executable</td>
</tr>
<tr>
<td align="center"><code>workgroups_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>workgroups_offset</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferdispatchindirectsymbol-halcommandbufferdispatchindirectsymbolop"><code>hal.command_buffer.dispatch.indirect.symbol</code> (HAL::CommandBufferDispatchIndirectSymbolOp)<a class="headerlink" href="#halcommand_bufferdispatchindirectsymbol-halcommandbufferdispatchindirectsymbolop" title="Permanent link">link</a></h4>
<p><em>Command buffer indirect dispatch recording operation, using symbolref</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.dispatch.indirect.symbol` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `target` `(` $entry_point `)`
              `workgroups` `(` $workgroups_buffer `:` type($workgroups_buffer) `)`
              `` `[` $workgroups_offset `]`
              attr-dict-with-keyword
</code></pre></div>

<p>Dispatches an execution request with the dispatch parameters loaded from the
given buffer, using using a nested symbol reference to the entry point.</p>
<div class="highlight"><pre><span></span><code>hal.command_buffer.dispatch.indirect.symbol %cmd, @executable::@target::@entry,
                                            workgroups = %buffer[%offset]
</code></pre></div>

<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>entry_point</code></td>
<td align="center">::mlir::SymbolRefAttr</td>
<td>symbol reference attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
<tr>
<td align="center"><code>workgroups_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>workgroups_offset</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferdispatch-halcommandbufferdispatchop"><code>hal.command_buffer.dispatch</code> (HAL::CommandBufferDispatchOp)<a class="headerlink" href="#halcommand_bufferdispatch-halcommandbufferdispatchop" title="Permanent link">link</a></h4>
<p><em>Command buffer dispatch recording operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.dispatch` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `target` `(` $executable `:` type($executable) `)`
              `` `[` $entry_point `]`
              `workgroups` `(` `[`
              $workgroup_x `,`
              $workgroup_y `,`
              $workgroup_z
              `]` `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Dispatches an execution request.</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>entry_point</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>size_t</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
<tr>
<td align="center"><code>executable</code></td>
<td>executable</td>
</tr>
<tr>
<td align="center"><code>workgroup_x</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>workgroup_y</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>workgroup_z</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferdispatchsymbol-halcommandbufferdispatchsymbolop"><code>hal.command_buffer.dispatch.symbol</code> (HAL::CommandBufferDispatchSymbolOp)<a class="headerlink" href="#halcommand_bufferdispatchsymbol-halcommandbufferdispatchsymbolop" title="Permanent link">link</a></h4>
<p><em>Command buffer dispatch recording operation, using symbolref</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.dispatch.symbol` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `target` `(` $entry_point `)`
              `workgroups` `(` `[`
              $workgroup_x `,`
              $workgroup_y `,`
              $workgroup_z
              `]` `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Dispatches an execution request, using a nested symbol reference to the entry point.</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>entry_point</code></td>
<td align="center">::mlir::SymbolRefAttr</td>
<td>symbol reference attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
<tr>
<td align="center"><code>workgroup_x</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>workgroup_y</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>workgroup_z</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferend_debug_group-halcommandbufferenddebuggroupop"><code>hal.command_buffer.end_debug_group</code> (HAL::CommandBufferEndDebugGroupOp)<a class="headerlink" href="#halcommand_bufferend_debug_group-halcommandbufferenddebuggroupop" title="Permanent link">link</a></h4>
<p><em>Pops a command buffer debug group label</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.end_debug_group` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              attr-dict-with-keyword
</code></pre></div>

<p>Pops a debug group from the stack.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferexecution_barrier-halcommandbufferexecutionbarrierop"><code>hal.command_buffer.execution_barrier</code> (HAL::CommandBufferExecutionBarrierOp)<a class="headerlink" href="#halcommand_bufferexecution_barrier-halcommandbufferexecutionbarrierop" title="Permanent link">link</a></h4>
<p><em>Command buffer execution barrier recording operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.execution_barrier` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `source` `(` $source_stage_mask `)`
              `target` `(` $target_stage_mask `)`
              `flags` `(` $flags `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Defines an execution dependency between all commands recorded before the
barrier and all commands recorded after the barrier. Only the stages
provided will be affected.</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_stage_mask</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::ExecutionStageBitfieldAttr</td>
<td>valid ExecutionStage</td>
</tr>
<tr>
<td align="center"><code>target_stage_mask</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::ExecutionStageBitfieldAttr</td>
<td>valid ExecutionStage</td>
</tr>
<tr>
<td align="center"><code>flags</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::ExecutionBarrierFlagBitfieldAttr</td>
<td>valid ExecutionBarrierFlag</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferfill_buffer-halcommandbufferfillbufferop"><code>hal.command_buffer.fill_buffer</code> (HAL::CommandBufferFillBufferOp)<a class="headerlink" href="#halcommand_bufferfill_buffer-halcommandbufferfillbufferop" title="Permanent link">link</a></h4>
<p><em>Command buffer buffer fill recording operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.fill_buffer` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `target` `(` $target_buffer `:` type($target_buffer) `)`
              `` `[` $target_offset `,` $length `]`
              `pattern` `(` $pattern `:` type($pattern) `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Fills the target buffer with the given repeating value.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
<tr>
<td align="center"><code>target_buffer</code></td>
<td>buffer</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>length</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>pattern</code></td>
<td>8-bit signless integer or 16-bit signless integer or 32-bit signless integer</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferfinalize-halcommandbufferfinalizeop"><code>hal.command_buffer.finalize</code> (HAL::CommandBufferFinalizeOp)<a class="headerlink" href="#halcommand_bufferfinalize-halcommandbufferfinalizeop" title="Permanent link">link</a></h4>
<p><em>Finalizes command buffer recording</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.finalize` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              attr-dict-with-keyword
</code></pre></div>

<p>Ends recording into the command buffer and prepares it for submission.
No more commands may be recorded into the command buffer.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferpush_constants-halcommandbufferpushconstantsop"><code>hal.command_buffer.push_constants</code> (HAL::CommandBufferPushConstantsOp)<a class="headerlink" href="#halcommand_bufferpush_constants-halcommandbufferpushconstantsop" title="Permanent link">link</a></h4>
<p><em>Command buffer push constants operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.push_constants` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `layout` `(` $pipeline_layout `:` type($pipeline_layout) `)`
              `offset` `(` $offset `)`
              `values` `(` `[` $values `]` `)`
              `:` type($values)
              attr-dict-with-keyword
</code></pre></div>

<p>Pushes an inline set of constants that can be accessed by subsequent
dispatches using a compatible pipeline layout.</p>
<p>Push constants are always 4-byte values and treated as opaque, meaning that
they may be bit-casted floats, bit-packed booleans, etc.</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>offset</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
<tr>
<td align="center"><code>pipeline_layout</code></td>
<td>pipeline_layout</td>
</tr>
<tr>
<td align="center"><code>values</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h4 id="halcommand_bufferpush_descriptor_set-halcommandbufferpushdescriptorsetop"><code>hal.command_buffer.push_descriptor_set</code> (HAL::CommandBufferPushDescriptorSetOp)<a class="headerlink" href="#halcommand_bufferpush_descriptor_set-halcommandbufferpushdescriptorsetop" title="Permanent link">link</a></h4>
<p><em>Command buffer descriptor set push binding operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.push_descriptor_set` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `layout` `(` $pipeline_layout `:` type($pipeline_layout) `)`
              `` `[` $set `]`
              `bindings` `(` `[`
              custom&lt;DescriptorSetBindings&gt;($binding_ordinals,
              $binding_buffers,
              type($binding_buffers),
              $binding_offsets,
              $binding_lengths)
              `]` `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Pushes an inline-defined descriptor set to the command buffer.
The provided buffers may either be HAL buffers or indirect references into
the command buffer binding table.</p>
<p>Traits: SameVariadicOperandSize</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>command_buffer</code></td>
<td>command_buffer</td>
</tr>
<tr>
<td align="center"><code>pipeline_layout</code></td>
<td>pipeline_layout</td>
</tr>
<tr>
<td align="center"><code>set</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>binding_ordinals</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>binding_buffers</code></td>
<td>index or buffer</td>
</tr>
<tr>
<td align="center"><code>binding_offsets</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>binding_lengths</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h3 id="descriptor-set-layout-ops">Descriptor set layout ops<a class="headerlink" href="#descriptor-set-layout-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.descriptor_set_layout</code> / <code>iree_hal_descriptor_set_layout_t</code>.</p>
<h4 id="haldescriptor_set_layoutcreate-haldescriptorsetlayoutcreateop"><code>hal.descriptor_set_layout.create</code> (HAL::DescriptorSetLayoutCreateOp)<a class="headerlink" href="#haldescriptor_set_layoutcreate-haldescriptorsetlayoutcreateop" title="Permanent link">link</a></h4>
<p><em>Creates a descriptor set layout</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.descriptor_set_layout.create` `device` `(` $device `:` type($device) `)`
              `flags` `(` $flags `)`
              `bindings` `(` $bindings `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Creates a descriptor set layout that defines the bindings used within a set.
The same descriptor set layout may be shared with many different executable
layouts and by doing so some runtime binding overhead when switching between
executables that use the same set layouts can be reduced.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>flags</code></td>
<td align="center">::mlir::iree_compiler::IREE::HAL::DescriptorSetLayoutFlagsAttr</td>
<td>valid DescriptorSetLayout flags</td>
</tr>
<tr>
<td align="center"><code>bindings</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>HAL descriptor set layout binding array attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>descriptor_set_layout</td>
</tr>
</tbody>
</table>
<h4 id="haldescriptor_set_layoutlookup-haldescriptorsetlayoutlookupop"><code>hal.descriptor_set_layout.lookup</code> (HAL::DescriptorSetLayoutLookupOp)<a class="headerlink" href="#haldescriptor_set_layoutlookup-haldescriptorsetlayoutlookupop" title="Permanent link">link</a></h4>
<p><em>Descriptor set layout cache lookup pseudo-op</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.descriptor_set_layout.lookup` `device` `(` $device `:` type($device) `)`
              `flags` `(` $flags `)`
              `bindings` `(` $bindings `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Used during conversion to provide a placeholder for a globally cached and
possibly lazy-initialized descriptor set layout.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>flags</code></td>
<td align="center">::mlir::iree_compiler::IREE::HAL::DescriptorSetLayoutFlagsAttr</td>
<td>valid DescriptorSetLayout flags</td>
</tr>
<tr>
<td align="center"><code>bindings</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>HAL descriptor set layout binding array attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>descriptor_set_layout</td>
</tr>
</tbody>
</table>
<h3 id="device-ops">Device ops<a class="headerlink" href="#device-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.device</code> / <code>iree_hal_device_t</code>.</p>
<h4 id="haldeviceallocator-haldeviceallocatorop"><code>hal.device.allocator</code> (HAL::DeviceAllocatorOp)<a class="headerlink" href="#haldeviceallocator-haldeviceallocatorop" title="Permanent link">link</a></h4>
<p><em>Device allocator accessor operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.device.allocator` `&lt;` $device `:` type($device) `&gt;` `:` type($result) attr-dict-with-keyword
</code></pre></div>

<p>Returns the allocator that can be used to allocate buffers compatible with
the device.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>allocator</td>
</tr>
</tbody>
</table>
<h4 id="haldevicequery-haldevicequeryop"><code>hal.device.query</code> (HAL::DeviceQueryOp)<a class="headerlink" href="#haldevicequery-haldevicequeryop" title="Permanent link">link</a></h4>
<p><em>Returns a runtime configuration parameter from the device</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.device.query` `&lt;` $device `:` type($device) `&gt;`
              `key` `(` $category `:` `` `:` $key `)`
              `:` type($ok) `,` type($value)
              (`=` $default_value^)?
              attr-dict-with-keyword
</code></pre></div>

<p>Queries a device configuration parameter with the given key.
Returns a status indicating whether the pair was recognized/available and if
it was the value converted to the specified type. Queries must return the
same value for the lifetime of the module though may vary from run to run.</p>
<p>This is roughly equivalent to the <code>sysconf</code> linux syscall
(https://man7.org/linux/man-pages/man3/sysconf.3.html) in that the exact
set of keys available and their interpretation is target-dependent. If there
is a HAL match attribute (<code>#hal.device.match.*</code>) or op
(<code>hal.device.match.*</code>) prefer to use that in order to get compile-time
propagation when the target is specified and elide the runtime query and
get compile-time verification when a runtime query is required.</p>
<p>Users of the op must check the <code>ok</code> result before using the value as what
set of keys is available may change over time. If in doubt: don't use this.
Each key used adds additional versioning and testing complexity as runtime
code path changes will explode combinatorially and should be treated with as
much care as a binary file format change. Keys should be prefixed with <code>ex.</code>
when experimental indicating that they are not expected to be present
forever; all non-experimental keys should be vetted.</p>
<p>Well-known keys:</p>
<ul>
<li>
<p>hal.executable.format :: {some format}
  Returns 1 if the given format is supported by the device loader.</p>
</li>
<li>
<p>hal.device :: concurrency
  The maximum concurrently executable submissions, mapping roughly to the
  queue count. The actual concurrency available may be less than this based
  on dynamic runtime parameters such as power/thermal modes, quota limits,
  or user choice.</p>
</li>
<li>
<p>hal.dispatch :: concurrency
  The maximum concurrently executable workgroups for a particular dispatch.
  The actual concurrency available may be less depending on device state.</p>
</li>
</ul>
<p>Traits: AlwaysSpeculatableImplTrait, HAL_DeviceQuery</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>category</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>key</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>default_value</code></td>
<td align="center">::mlir::TypedAttr</td>
<td>TypedAttr instance</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>ok</code></td>
<td>1-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>value</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="haldevicequeuealloca-haldevicequeueallocaop"><code>hal.device.queue.alloca</code> (HAL::DeviceQueueAllocaOp)<a class="headerlink" href="#haldevicequeuealloca-haldevicequeueallocaop" title="Permanent link">link</a></h4>
<p><em>Allocates a queue-ordered transient buffer</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.device.queue.alloca` `&lt;` $device `:` type($device) `&gt;`
              `affinity` `(` $queue_affinity `)`
              `wait` `(` $wait_fence `)`
              `signal` `(` $signal_fence `)`
              `pool` `(` $pool `)`
              `type` `(` $memory_types `)`
              `usage` `(` $buffer_usage `)`
              `:` custom&lt;SizeAwareType&gt;(type($result), $result_size)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns a queue-ordered transient buffer that will be available for use when
the signal fence is reached. The allocation will not be made until the
wait fence has been reached.</p>
<p>The size of the buffer returned may be larger than the requested size if the
allocator has specific alignment requirements or minimum allocation sizes.</p>
<p>The buffer handle will remain live so long as there are retainers but the
contents are undefined before the allocation signal fence has been signaled
and after the deallocation wait fence has been reached.</p>
<p>Interfaces: OpAsmOpInterface, SizeAwareOpInterface</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>memory_types</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::MemoryTypeBitfieldAttr</td>
<td>valid MemoryType</td>
</tr>
<tr>
<td align="center"><code>buffer_usage</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::BufferUsageBitfieldAttr</td>
<td>valid BufferUsage</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
<tr>
<td align="center"><code>queue_affinity</code></td>
<td>64-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>wait_fence</code></td>
<td>fence</td>
</tr>
<tr>
<td align="center"><code>signal_fence</code></td>
<td>fence</td>
</tr>
<tr>
<td align="center"><code>pool</code></td>
<td>64-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>buffer</td>
</tr>
</tbody>
</table>
<h4 id="haldevicequeuedealloca-haldevicequeuedeallocaop"><code>hal.device.queue.dealloca</code> (HAL::DeviceQueueDeallocaOp)<a class="headerlink" href="#haldevicequeuedealloca-haldevicequeuedeallocaop" title="Permanent link">link</a></h4>
<p><em>Deallocates a queue-ordered transient buffer</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.device.queue.dealloca` `&lt;` $device `:` type($device) `&gt;`
              `affinity` `(` $queue_affinity `)`
              `wait` `(` $wait_fence `)`
              `signal` `(` $signal_fence `)`
              `buffer` `(` $buffer `:` type($buffer) `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Deallocates a queue-ordered transient buffer.
The deallocation will not be made until the wait fence has been reached and
once the storage is available for reuse the signal fence will be signaled.</p>
<p>After deallocation the contents of the buffer may still be accessible but
will have undefined contents as other operations reuse the memory.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
<tr>
<td align="center"><code>queue_affinity</code></td>
<td>64-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>wait_fence</code></td>
<td>fence</td>
</tr>
<tr>
<td align="center"><code>signal_fence</code></td>
<td>fence</td>
</tr>
<tr>
<td align="center"><code>buffer</code></td>
<td>buffer</td>
</tr>
</tbody>
</table>
<h4 id="haldevicequeueexecute-haldevicequeueexecuteop"><code>hal.device.queue.execute</code> (HAL::DeviceQueueExecuteOp)<a class="headerlink" href="#haldevicequeueexecute-haldevicequeueexecuteop" title="Permanent link">link</a></h4>
<p><em>Enqueues command buffer execution</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.device.queue.execute` `&lt;` $device `:` type($device) `&gt;`
              `affinity` `(` $queue_affinity `)`
              `wait` `(` $wait_fence `)`
              `signal` `(` $signal_fence `)`
              (`commands` `(` `[` $command_buffers^ `]` `)`)?
              attr-dict-with-keyword
</code></pre></div>

<p>Executes one or more command buffers on a device queue.
The command buffers are executed in order as if they were recorded as one.
No commands will execute until the wait fence has been reached and the
signal fence will be signaled when all commands have completed.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
<tr>
<td align="center"><code>queue_affinity</code></td>
<td>64-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>wait_fence</code></td>
<td>fence</td>
</tr>
<tr>
<td align="center"><code>signal_fence</code></td>
<td>fence</td>
</tr>
<tr>
<td align="center"><code>command_buffers</code></td>
<td>command_buffer</td>
</tr>
</tbody>
</table>
<h4 id="haldevicequeueflush-haldevicequeueflushop"><code>hal.device.queue.flush</code> (HAL::DeviceQueueFlushOp)<a class="headerlink" href="#haldevicequeueflush-haldevicequeueflushop" title="Permanent link">link</a></h4>
<p><em>Flushes locally-pending submissions to the queue</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.device.queue.flush` `&lt;` $device `:` type($device) `&gt;`
              `affinity` `(` $queue_affinity `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Flushes any locally-pending submissions in the queue.
When submitting many queue operations this can be used to eagerly flush
earlier submissions while later ones are still being constructed.
This may be a no-op.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
<tr>
<td align="center"><code>queue_affinity</code></td>
<td>64-bit signless integer</td>
</tr>
</tbody>
</table>
<h4 id="haldeviceswitch-haldeviceswitchop"><code>hal.device.switch</code> (HAL::DeviceSwitchOp)<a class="headerlink" href="#haldeviceswitch-haldeviceswitchop" title="Permanent link">link</a></h4>
<p><em>Runtime device switch pseudo op</em></p>
<p>Switches between multiple regions based on the runtime device type.
The provided regions are matched against the runtime backend of the given
device and executed only when the device matches the conditions.</p>
<p>Conditions can match on wildcards and be folded to enable conditions that
have similar bodies to be folded. The patterns themselves are only matched
once at startup and then the results are cached; the runtime overhead is
equivalent to a normal switch statement. In cases where the compiler can
statically identify the device type entire cases can be folded away.</p>
<p>Supported conditions:
* <code>#hal.match...</code>: execute the region if the expression matches.</p>
<p>Supported match expressions:
* <code>#hal.match.always</code>: always matches; useful for defaults.
* <code>#hal.match.any&lt;[...]&gt;</code>: matches if any of the nested expressions match.
* <code>#hal.match.all&lt;[...]&gt;</code>: matches only if all of the nested expressions
  match.
* <code>#hal.device.match.id&lt;"pattern*-?-*"&gt;</code>: matches against the device
  identifier. The pattern is evaluated with standard file path wildcards
  (<code>*</code> for zero or more characters and <code>?</code> for one character).</p>
<p>If more than one condition is satisfied the first listed will be chosen.
More specific conditions should be earlier in the set. If no condition is
matched but there are return values the switch will abort at runtime. It's
strongly recommend that all switches that return values end with a trailing
<code>#hal.match.always</code> condition to handle the fallthrough case.</p>
<p>Upon creation each condition region will have an empty entry block with the
specified operands available as arguments. Each region must be setup to
return the same types.</p>
<div class="highlight"><pre><span></span><code>%c0 = arith.constant 0 : i32
%c1 = arith.constant 1 : i32
%c2 = arith.constant 2 : i32
%device = ... : !hal.device
%0 = hal.device.switch&lt;%device : !hal.device&gt; -&gt; i32
  #hal.device.match.id&lt;&quot;vulkan-v1.?-*&quot;&gt; {
    hal.return %c1 : i32
  },
  #hal.match.any&lt;[#hal.device.match.id&lt;&quot;vmvx&quot;&gt;, #hal.device.match.id&lt;&quot;vulkan-*&quot;&gt;]&gt; {
    hal.return %c2 : i32
  },
  #hal.match.always {
    hal.return %c0 : i32
  }
</code></pre></div>

<p>Traits: NoRegionArguments, RecursiveMemoryEffects</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>conditions</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>array attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="halreturn-halreturnop"><code>hal.return</code> (HAL::ReturnOp)<a class="headerlink" href="#halreturn-halreturnop" title="Permanent link">link</a></h4>
<p><em>Return from a hal.device.switch region</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.return` ($operands^ `:` type($operands))? attr-dict
</code></pre></div>

<p>Returns the given values from the region and back to the host code.</p>
<p>Traits: Terminator</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>operands</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h3 id="executable-ops">Executable ops<a class="headerlink" href="#executable-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.executable</code> / <code>iree_hal_executable_t</code>.</p>
<h4 id="halexecutablebinary-halexecutablebinaryop"><code>hal.executable.binary</code> (HAL::ExecutableBinaryOp)<a class="headerlink" href="#halexecutablebinary-halexecutablebinaryop" title="Permanent link">link</a></h4>
<p><em>Compiled executable binary data</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.binary` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name
              attr-dict-with-keyword
</code></pre></div>

<p>A compiled executable binary with an optional nested module containing the
IR prior to serialization (for debugging).</p>
<p>Traits: HasParent<IREE::HAL::ExecutableOp></p>
<p>Interfaces: Symbol</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>sym_visibility</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>sym_name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>format</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>data</code></td>
<td align="center">::mlir::DenseIntElementsAttr</td>
<td>8-bit signless integer elements attribute</td>
</tr>
<tr>
<td align="center"><code>mime_type</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h4 id="halexecutablecalculate_workgroups-halexecutablecalculateworkgroupsop"><code>hal.executable.calculate_workgroups</code> (HAL::ExecutableCalculateWorkgroupsOp)<a class="headerlink" href="#halexecutablecalculate_workgroups-halexecutablecalculateworkgroupsop" title="Permanent link">link</a></h4>
<p><em>Calculates workgroup count from workload for an exported function</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.calculate_workgroups` `device` `(` $device `:` type($device) `)`
              `target` `(` $entry_point `)`
              (`workload` `(` `[` $workload^ `]` `)`)?
              `:` type($workgroup_x) `,` type($workgroup_y) `,` type($workgroup_z)
              attr-dict-with-keyword
</code></pre></div>

<p>Calculates the workgroup count (grid XYZ) based on the given workload using
the workgroup count calculation region of the target
<code>hal.executable.export</code> op.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>entry_point</code></td>
<td align="center">::mlir::SymbolRefAttr</td>
<td>symbol reference attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
<tr>
<td align="center"><code>workload</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>workgroup_x</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>workgroup_y</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>workgroup_z</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halexecutableconstantblock-halexecutableconstantblockop"><code>hal.executable.constant.block</code> (HAL::ExecutableConstantBlockOp)<a class="headerlink" href="#halexecutableconstantblock-halexecutableconstantblockop" title="Permanent link">link</a></h4>
<p><em>Executable constant block initializer</em></p>
<p>Initializes one or more constants in the executable constant block by
returning one value per identified constant. Each constant block is
evaluated on the host prior to instantiating the executable for a given
device and allows for the executable to be specialized based on device
capabilities and limits.</p>
<p>The keys specified are unique per variant and will be deduplicated across
multiple constant blocks when present. They are only used during lowering
and will not survive to runtime so they need only have descriptive enough
names to avoid collisions and represent the semantics of the value.</p>
<p>Constant values can be loaded in the device code with the
<code>hal.executable.constant.load</code> op:</p>
<div class="highlight"><pre><span></span><code>hal.executable.variant public @target {
  hal.executable.constant.block(%device: !hal.device) -&gt; (i32, i32) as (&quot;foo&quot;, &quot;bar&quot;) {
    %0 = hal.device.query&lt;%device&gt; key(&quot;some.device.prop&quot;)...
    %1 = hal.device.query&lt;%device&gt; key(&quot;another.device.prop&quot;)...
    hal.return %0, %1 : i32, i32
  }
  builtin.module {
    func @dispatch0() {
      %0 = hal.executable.constant.load &quot;foo&quot; : i32
      %1 = hal.executable.constant.load &quot;bar&quot; : i32
      return
    }
  }
}
</code></pre></div>

<p>Each target backend will implement the constant initialization and access in
a way compatible with its execution model. Examples:
- CPU: read-only buffer initialized on load and passed to each dispatch
- CUDA: read-only buffer initialized on load and passed to each dispatch
- SPIR-V: specialization constants
- Metal: function constants
- WebGPU: pipeline-overridable constants</p>
<p>Traits: HasParent<IREE::HAL::ExecutableSourceOp, IREE::HAL::ExecutableVariantOp>, IsolatedFromAbove</p>
<p>Interfaces: CallableOpInterface, FunctionOpInterface, Symbol</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>function_type</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>type attribute of function type</td>
</tr>
<tr>
<td align="center"><code>keys</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>array attribute</td>
</tr>
<tr>
<td align="center"><code>arg_attrs</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>Array of dictionary attributes</td>
</tr>
<tr>
<td align="center"><code>res_attrs</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>Array of dictionary attributes</td>
</tr>
</tbody>
</table>
<h4 id="halexecutableconstantload-halexecutableconstantloadop"><code>hal.executable.constant.load</code> (HAL::ExecutableConstantLoadOp)<a class="headerlink" href="#halexecutableconstantload-halexecutableconstantloadop" title="Permanent link">link</a></h4>
<p><em>Loads a constant value from the executable constant block</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.constant.load` $key attr-dict `:` type($result)
</code></pre></div>

<p>Loads a scalar constant value from the static executable constant block.
The value provided by a constant block with the given key will be loaded and
bitcast (possibly with truncation or zero-extension) to the result type.</p>
<p>Note that backends are allowed to implement their own mechanisms for
referencing constant block values and this is provided only as a default for
those not needing special behavior.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>key</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index or signless integer or floating-point or complex-type</td>
</tr>
</tbody>
</table>
<h4 id="halexecutablecreate-halexecutablecreateop"><code>hal.executable.create</code> (HAL::ExecutableCreateOp)<a class="headerlink" href="#halexecutablecreate-halexecutablecreateop" title="Permanent link">link</a></h4>
<p><em>Creates an executable</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.create` `device` `(` $device `:` type($device) `)`
              `target` `(` $executable_target `)`
              `layouts` `(` `[` $layouts `]` `)`
              (`constants` `(` `[` $constants^ `]` `)`)?
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Creates a target-dependent executable cached on the provided device. Entry
points contained within the executable can be dispatched using the resulting
executable handle.</p>
<p>Depending on the driver creation may take a non-trivial amount of time
(such as when JITing/etc). As the cache is internally synchronized callers
can issue preparation requests from multiple threads - even for the same
executables - and calls will block until preparation completes.</p>
<p>Optional constants provide for specialization of the executable based on
runtime-derived parameters.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>executable_target</code></td>
<td align="center">::mlir::SymbolRefAttr</td>
<td>symbol reference attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
<tr>
<td align="center"><code>layouts</code></td>
<td>pipeline_layout</td>
</tr>
<tr>
<td align="center"><code>constants</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>executable</td>
</tr>
</tbody>
</table>
<h4 id="halexecutable_end-halexecutableendop"><code>hal.executable_end</code> (HAL::ExecutableEndOp)<a class="headerlink" href="#halexecutable_end-halexecutableendop" title="Permanent link">link</a></h4>
<p><em>Terminator pseudo-op for the executable op</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable_end` attr-dict
</code></pre></div>

<p>Traits: HasParent<IREE::HAL::ExecutableOp>, Terminator</p>
<h4 id="halexecutableexport-halexecutableexportop"><code>hal.executable.export</code> (HAL::ExecutableExportOp)<a class="headerlink" href="#halexecutableexport-halexecutableexportop" title="Permanent link">link</a></h4>
<p><em>Executable entry point declaration</em></p>
<p>An entry point exported by the executable with statically-available
information describing the IO interface it uses and other dispatch metadata.</p>
<p>The <code>calculate_workgroup_count</code> region represents the computation that
returns the number of workgroups to use in the 3D grid dispatch.
The arguments to the region represents the workload as captured by each
dispatch.
It returns the number of workgroups along x, y, and z.</p>
<p>Traits: HasParent<IREE::HAL::ExecutableSourceOp, IREE::HAL::ExecutableVariantOp>, IsolatedFromAbove</p>
<p>Interfaces: Symbol</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>sym_visibility</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>sym_name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>ordinal</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>size_t</td>
</tr>
<tr>
<td align="center"><code>layout</code></td>
<td align="center">::mlir::iree_compiler::IREE::HAL::PipelineLayoutAttr</td>
<td>executable entry point layout specification</td>
</tr>
<tr>
<td align="center"><code>workgroup_size</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>index array attribute</td>
</tr>
<tr>
<td align="center"><code>subgroup_size</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>size_t</td>
</tr>
<tr>
<td align="center"><code>workgroup_local_memory</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
</tbody>
</table>
<h4 id="halexecutablelookup-halexecutablelookupop"><code>hal.executable.lookup</code> (HAL::ExecutableLookupOp)<a class="headerlink" href="#halexecutablelookup-halexecutablelookupop" title="Permanent link">link</a></h4>
<p><em>Executable cache lookup pseudo-op</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.lookup` `device` `(` $device `:` type($device) `)`
              `executable` `(` $executable `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Used during conversion to provide a placeholder for a globally cached and
possibly lazy-initialized executable.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>executable</code></td>
<td align="center">::mlir::FlatSymbolRefAttr</td>
<td>flat symbol reference attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>executable</td>
</tr>
</tbody>
</table>
<h4 id="halexecutable-halexecutableop"><code>hal.executable</code> (HAL::ExecutableOp)<a class="headerlink" href="#halexecutable-halexecutableop" title="Permanent link">link</a></h4>
<p><em>Target-specific executable module</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name
              attr-dict-with-keyword
              regions
</code></pre></div>

<p>An executable module representing a target-specific compiled
kernel/shader/etc.</p>
<p>Traits: IsolatedFromAbove, SingleBlockImplicitTerminator<IREE::HAL::ExecutableEndOp>, SymbolTable</p>
<p>Interfaces: Symbol</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>sym_visibility</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>sym_name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h4 id="halexecutablesource_end-halexecutablesourceendop"><code>hal.executable.source_end</code> (HAL::ExecutableSourceEndOp)<a class="headerlink" href="#halexecutablesource_end-halexecutablesourceendop" title="Permanent link">link</a></h4>
<p><em>Terminator pseudo-op for the executable source op</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.source_end` attr-dict
</code></pre></div>

<p>Traits: HasParent<IREE::HAL::ExecutableSourceOp>, Terminator</p>
<h4 id="halexecutablesource-halexecutablesourceop"><code>hal.executable.source</code> (HAL::ExecutableSourceOp)<a class="headerlink" href="#halexecutablesource-halexecutablesourceop" title="Permanent link">link</a></h4>
<p><em>Generic source contents of an executable op</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.source` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name
              attr-dict-with-keyword
              ``
              regions
</code></pre></div>

<p>This is an unspecialized source representation of an executable
module without an assigned target. This is useful for hand-authoring
executables prior to device specification.</p>
<p>Traits: IsolatedFromAbove, SingleBlockImplicitTerminator<IREE::HAL::ExecutableSourceEndOp>, SymbolTable</p>
<p>Interfaces: Symbol</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>sym_visibility</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>sym_name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>objects</code></td>
<td align="center">::mlir::iree_compiler::IREE::HAL::ExecutableObjectsAttr</td>
<td>target-specific object file references</td>
</tr>
</tbody>
</table>
<h4 id="halexecutablevariant_end-halexecutablevariantendop"><code>hal.executable.variant_end</code> (HAL::ExecutableVariantEndOp)<a class="headerlink" href="#halexecutablevariant_end-halexecutablevariantendop" title="Permanent link">link</a></h4>
<p><em>Terminator pseudo-op for the executable variant op</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.variant_end` attr-dict
</code></pre></div>

<p>Traits: HasParent<IREE::HAL::ExecutableVariantOp>, Terminator</p>
<h4 id="halexecutablevariant-halexecutablevariantop"><code>hal.executable.variant</code> (HAL::ExecutableVariantOp)<a class="headerlink" href="#halexecutablevariant-halexecutablevariantop" title="Permanent link">link</a></h4>
<p><em>Target-specific variant of an executable op</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.variant` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name
              `,` `target` `=` $target
              (`,` `objects` `=` $objects^ )?
              attr-dict-with-keyword
              regions
</code></pre></div>

<p>The target IR for the executable. This can be preserved for debugging but
is usually removed during transformation.</p>
<p>Traits: HasParent<IREE::HAL::ExecutableOp>, IsolatedFromAbove, SingleBlockImplicitTerminator<IREE::HAL::ExecutableVariantEndOp>, SymbolTable</p>
<p>Interfaces: Symbol</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>sym_visibility</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>sym_name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>target</code></td>
<td align="center">::mlir::iree_compiler::IREE::HAL::ExecutableTargetAttr</td>
<td>generic executable target specification</td>
</tr>
<tr>
<td align="center"><code>objects</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>HAL executable object references</td>
</tr>
</tbody>
</table>
<h3 id="experimental-ops">Experimental ops<a class="headerlink" href="#experimental-ops" title="Permanent link">link</a></h3>
<p>Temporary hack ops expected to be removed in the future.</p>
<h4 id="halexshared_device-halexshareddeviceop"><code>hal.ex.shared_device</code> (HAL::ExSharedDeviceOp)<a class="headerlink" href="#halexshared_device-halexshareddeviceop" title="Permanent link">link</a></h4>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.ex.shared_device` attr-dict `:` type($result)
</code></pre></div>

<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>device</td>
</tr>
</tbody>
</table>
<h3 id="fence-ops">Fence ops<a class="headerlink" href="#fence-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.fence</code> / <code>iree_hal_fence_t</code>.</p>
<h4 id="halfenceawait-halfenceawaitop"><code>hal.fence.await</code> (HAL::FenceAwaitOp)<a class="headerlink" href="#halfenceawait-halfenceawaitop" title="Permanent link">link</a></h4>
<p><em>Asynchronous fence wait operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.await` `until` `(` `[` $fences `]` `)`
              `timeout_millis` `(` $timeout_millis `)`
              `:` type($status)
              attr-dict-with-keyword
</code></pre></div>

<p>Yields the caller until all fences is reached. Returns the <code>status</code> of the
fence after the wait, with a non-zero value indicating failure.</p>
<p>Traits: Util_YieldPoint</p>
<p>Interfaces: OpAsmOpInterface</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>timeout_millis</code></td>
<td>32-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>fences</code></td>
<td>fence</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>status</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h4 id="halfencecreate-halfencecreateop"><code>hal.fence.create</code> (HAL::FenceCreateOp)<a class="headerlink" href="#halfencecreate-halfencecreateop" title="Permanent link">link</a></h4>
<p><em>Creates an unsignaled fence</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.create` `device` `(` $device `:` type($device) `)`
              `flags` `(` $flags `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns a fence that defines a point in time. By default fences will remain
unsignaled unless they are explicitly signaled with <code>hal.fence.signal</code> or
asynchronously signaled by the device by passing them as an operand to
queue submission ops.</p>
<p>Interfaces: MemoryEffectOpInterface (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{MemoryEffects::Allocate on ::mlir::SideEffects::DefaultResource}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>flags</code></td>
<td align="center">mlir::iree_compiler::IREE::HAL::FenceFlagBitfieldAttr</td>
<td>valid FenceFlag</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>fence</td>
</tr>
</tbody>
</table>
<h4 id="halfencefail-halfencefailop"><code>hal.fence.fail</code> (HAL::FenceFailOp)<a class="headerlink" href="#halfencefail-halfencefailop" title="Permanent link">link</a></h4>
<p><em>Fence failure operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.fail` `&lt;` $fence `:` type($fence) `&gt;`
              `status` `(` $status `)`
              attr-dict-with-keyword
</code></pre></div>

<p>Signals the fence with a failure. The <code>status</code> will be returned from
each timepoint semaphores <code>hal.semaphore.query</code> and <code>hal.semaphore.signal</code>
for the lifetime of each semaphore.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>fence</code></td>
<td>fence</td>
</tr>
<tr>
<td align="center"><code>status</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h4 id="halfencejoin-halfencejoinop"><code>hal.fence.join</code> (HAL::FenceJoinOp)<a class="headerlink" href="#halfencejoin-halfencejoinop" title="Permanent link">link</a></h4>
<p><em>Creates a fence from the given timepoints</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.join` `at` `(` `[` $fences `]` `)`
              `-&gt;` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Returns a fence that joins the input fences as a wait-all operation.</p>
<p>Interfaces: OpAsmOpInterface</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>fences</code></td>
<td>fence</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>fence</td>
</tr>
</tbody>
</table>
<h4 id="halfencequery-halfencequeryop"><code>hal.fence.query</code> (HAL::FenceQueryOp)<a class="headerlink" href="#halfencequery-halfencequeryop" title="Permanent link">link</a></h4>
<p><em>Fence query operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.query` `&lt;` $fence `:` type($fence) `&gt;`
              `:` type($status)
              attr-dict-with-keyword
</code></pre></div>

<p>Queries whether the fence has been reached and its status.
Returns OK if the fence has been signaled successfully, DEFERRED if it is
unsignaled, and otherwise an error indicating the failure.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>fence</code></td>
<td>fence</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>status</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h4 id="halfencesignal-halfencesignalop"><code>hal.fence.signal</code> (HAL::FenceSignalOp)<a class="headerlink" href="#halfencesignal-halfencesignalop" title="Permanent link">link</a></h4>
<p><em>Fence signal operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.signal` `&lt;` $fence `:` type($fence) `&gt;`
              attr-dict-with-keyword
</code></pre></div>

<p>Signals the fence to indicate that the timepoints contained have been
reached. Waiting work may begin immediately.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>fence</code></td>
<td>fence</td>
</tr>
</tbody>
</table>
<h3 id="instrument-ops">Instrument ops<a class="headerlink" href="#instrument-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.instrument.*</code>.</p>
<h4 id="halinstrumentmemoryload-halinstrumentmemoryloadop"><code>hal.instrument.memory.load</code> (HAL::InstrumentMemoryLoadOp)<a class="headerlink" href="#halinstrumentmemoryload-halinstrumentmemoryloadop" title="Permanent link">link</a></h4>
<p><em>Emits a memory load instrumentation event</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.instrument.memory.load` `` `[` $buffer `:` type($buffer) `for` $workgroupKey `]`
              $base `[` $indices `]` `,` $loadValue
              attr-dict `:` type($base) `,` type($result)
</code></pre></div>

<p>Emits a workgroup-specific memory load event indicating that a number of
bytes from the given resolved pointer have been loaded by the workgroup.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer</code></td>
<td>memref of any type values</td>
</tr>
<tr>
<td align="center"><code>workgroupKey</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>loadValue</code></td>
<td>any type</td>
</tr>
<tr>
<td align="center"><code>base</code></td>
<td>memref of any type values</td>
</tr>
<tr>
<td align="center"><code>indices</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="halinstrumentmemorystore-halinstrumentmemorystoreop"><code>hal.instrument.memory.store</code> (HAL::InstrumentMemoryStoreOp)<a class="headerlink" href="#halinstrumentmemorystore-halinstrumentmemorystoreop" title="Permanent link">link</a></h4>
<p><em>Emits a memory store instrumentation event</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.instrument.memory.store` `` `[` $buffer `:` type($buffer) `for` $workgroupKey `]`
              $base `[` $indices `]` `,` $storeValue
              attr-dict `:` type($base) `,` type($result)
</code></pre></div>

<p>Emits a workgroup-specific memory store event indicating that a number of
bytes have been stored to the given resolved pointer by the workgroup.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer</code></td>
<td>memref of any type values</td>
</tr>
<tr>
<td align="center"><code>workgroupKey</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>storeValue</code></td>
<td>any type</td>
</tr>
<tr>
<td align="center"><code>base</code></td>
<td>memref of any type values</td>
</tr>
<tr>
<td align="center"><code>indices</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="halinstrumentprint-halinstrumentprintop"><code>hal.instrument.print</code> (HAL::InstrumentPrintOp)<a class="headerlink" href="#halinstrumentprint-halinstrumentprintop" title="Permanent link">link</a></h4>
<p><em>Emits a human-readable printf-style string event</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.instrument.print` `` `[` $buffer `:` type($buffer) `for` $workgroupKey `]`
              $format (`*` `(` $values^ `:` type($values) `)`)?
              attr-dict
</code></pre></div>

<p>Formats a string using a limited subset of printf format specifiers and the
provided values and then emits an <code>iree_instrument_dispatch_print_t</code> event. Final
formatted string lengths may be limited to as much as 1024 characters and
should be kept as small as possible to avoid easily exceeding the
instrumentation storage buffers with redundant strings.</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>format</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer</code></td>
<td>memref of any type values</td>
</tr>
<tr>
<td align="center"><code>workgroupKey</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>values</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="halinstrumentvalue-halinstrumentvalueop"><code>hal.instrument.value</code> (HAL::InstrumentValueOp)<a class="headerlink" href="#halinstrumentvalue-halinstrumentvalueop" title="Permanent link">link</a></h4>
<p><em>Emits a scalar value instrumentation event</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.instrument.value` `` `[` $buffer `:` type($buffer) `for` $workgroupKey `]`
              $ordinal `=` $operand attr-dict `:` type($operand)
</code></pre></div>

<p>Emits a workgroup-specific typed value with the given workgroup-relative
ordinal.</p>
<p>This op will be preserved even if the output is not used as it is only for
debugging purposes.</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>ordinal</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>8-bit integer attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer</code></td>
<td>memref of any type values</td>
</tr>
<tr>
<td align="center"><code>workgroupKey</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>operand</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="halinstrumentworkgroup-halinstrumentworkgroupop"><code>hal.instrument.workgroup</code> (HAL::InstrumentWorkgroupOp)<a class="headerlink" href="#halinstrumentworkgroup-halinstrumentworkgroupop" title="Permanent link">link</a></h4>
<p><em>Emits a dispatch workgroup instrumentation event</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.instrument.workgroup` `` `[` $buffer `:` type($buffer) `]`
              `dispatch` `(` $dispatchId `)`
              attr-dict `:` type($workgroupKey)
</code></pre></div>

<p>Emits an <code>iree_instrument_dispatch_workgroup_t</code> event into the
instrumentation stream. The workgroup event identifies the unique dispatch,
its workgroup count, and the ID of the emitting workgroup within the
dispatch. Optionally targets that support querying the processor ID
executing the workgroup can attach that information for tracking purposes.</p>
<p>On targets such as CPUs where entire workgroups execute as atomic units
only one workgroup event should be emitted. On targets such as GPUs where
there may be multiple invocations executing as part of a single workgroup
only the first invocation within the workgroup should emit the workgroup
event (by checking if the LocalInvocationIndex or threadIdx == 0, etc).</p>
<p>The resulting workgroup key is used by subsequent workgroup-specific
instrumentation events.</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>buffer</code></td>
<td>memref of any type values</td>
</tr>
<tr>
<td align="center"><code>dispatchId</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>workgroupKey</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h3 id="interface-ops">Interface ops<a class="headerlink" href="#interface-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.interface.*</code>.</p>
<h4 id="halinterfacebindingsubspan-halinterfacebindingsubspanop"><code>hal.interface.binding.subspan</code> (HAL::InterfaceBindingSubspanOp)<a class="headerlink" href="#halinterfacebindingsubspan-halinterfacebindingsubspanop" title="Permanent link">link</a></h4>
<p><em>Returns an alias to a subspan of interface binding data</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.interface.binding.subspan` `set` `(` $set `)`
              `binding` `(` $binding `)`
              `type` `(` custom&lt;DescriptorType&gt;($descriptor_type) `)`
              (`alignment` `(` $alignment^ `)`)?
              (`offset` `(` $byte_offset^ `)`)?
              (`flags` `(` $descriptor_flags^ `)`)?
              attr-dict `:` type($result) (`{` $dynamic_dims^ `}`)?
</code></pre></div>

<p>Returns a subspan of an interface binding storage buffer in a generic type.
The exact shape, type, and alignment of the returned type are defined by
the result type (tensor, memref, etc).</p>
<p>An optional alignment indicates the byte alignment of the base binding
resource. Note that the byte offset is added to the base and the alignment
will be the minimum of the two.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Util_ShapeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>set</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
<tr>
<td align="center"><code>binding</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
<tr>
<td align="center"><code>descriptor_type</code></td>
<td align="center">::mlir::iree_compiler::IREE::HAL::DescriptorTypeAttr</td>
<td>valid DescriptorType</td>
</tr>
<tr>
<td align="center"><code>alignment</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
<tr>
<td align="center"><code>descriptor_flags</code></td>
<td align="center">::mlir::iree_compiler::IREE::HAL::DescriptorFlagsAttr</td>
<td>valid Descriptor flags</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>byte_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>dynamic_dims</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="halinterfaceconstantload-halinterfaceconstantloadop"><code>hal.interface.constant.load</code> (HAL::InterfaceConstantLoadOp)<a class="headerlink" href="#halinterfaceconstantload-halinterfaceconstantloadop" title="Permanent link">link</a></h4>
<p><em>Loads a constant value from the interface constant block</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.interface.constant.load` `` `[` $index `]`
              (`alignment` `(` $alignment^ `)`)?
              (`values` `(` $values^ `)`)?
              attr-dict `:` type($result)
</code></pre></div>

<p>Loads a scalar constant value from an executable IO push constant block.
The value will be loaded from the given constant offset and will be
bitcast (possibly with truncation or zero-extension) to the result type.</p>
<p>An optional alignment indicates the byte alignment of potential values for
the constant when it could be determined from analysis. If omitted the value
may be anything and its interpretation is up to the usage. This is intended
to provide pointer alignment-like semantics to constants that are used to
index into binding resources.</p>
<p>An optional set of values indicates all possible values that can be passed
to the constant from all dispatch sites in the program. If omitted the value
may be from an unanalyzable source (outside of the program, indirect, etc)
and must be assumed to have any value.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>index</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>size_t</td>
</tr>
<tr>
<td align="center"><code>alignment</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
<tr>
<td align="center"><code>values</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>array attribute</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index or signless integer or floating-point or complex-type</td>
</tr>
</tbody>
</table>
<h4 id="halinterfaceworkgroupcount-halinterfaceworkgroupcountop"><code>hal.interface.workgroup.count</code> (HAL::InterfaceWorkgroupCountOp)<a class="headerlink" href="#halinterfaceworkgroupcount-halinterfaceworkgroupcountop" title="Permanent link">link</a></h4>
<p><em>Returns the total workgroup count of the grid</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.interface.workgroup.count` `[` $dimension `]` attr-dict `:` type($result)
</code></pre></div>

<p>The total number of workgroups along each dimension in the dispatch grid.
Matches what was passed to the <code>hal.command_buffer.dispatch</code> command (or
what was indirectly specified).</p>
<p>Corresponds to the <code>NumWorkgroups</code> SPIR-V built-in and the <code>gridDim</code> CUDA
built-in variable.</p>
<div class="highlight"><pre><span></span><code>%x = hal.interface.workgroup.count[0] : index
%y = hal.interface.workgroup.count[1] : index
%z = hal.interface.workgroup.count[2] : index
</code></pre></div>

<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>dimension</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halinterfaceworkgroupid-halinterfaceworkgroupidop"><code>hal.interface.workgroup.id</code> (HAL::InterfaceWorkgroupIDOp)<a class="headerlink" href="#halinterfaceworkgroupid-halinterfaceworkgroupidop" title="Permanent link">link</a></h4>
<p><em>Returns the index of the current workgroup in the grid</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.interface.workgroup.id` `[` $dimension `]` attr-dict `:` type($result)
</code></pre></div>

<p>The global workgroup ID of the current tile in the range of
<code>[0, hal.interface.workgroup.count)</code> along each XYZ dimension.</p>
<p>Corresponds to the <code>WorkgroupId</code> SPIR-V built-in and the <code>blockIdx</code> CUDA
built-in variable.</p>
<div class="highlight"><pre><span></span><code>%x = hal.interface.workgroup.id[0] : index
%y = hal.interface.workgroup.id[1] : index
%z = hal.interface.workgroup.id[2] : index
</code></pre></div>

<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>dimension</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="halinterfaceworkgroupsize-halinterfaceworkgroupsizeop"><code>hal.interface.workgroup.size</code> (HAL::InterfaceWorkgroupSizeOp)<a class="headerlink" href="#halinterfaceworkgroupsize-halinterfaceworkgroupsizeop" title="Permanent link">link</a></h4>
<p><em>Returns the size of each workgroup in invocations</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.interface.workgroup.size` `[` $dimension `]` attr-dict `:` type($result)
</code></pre></div>

<p>The number of local invocations within the current workgroup along each
dimension. Depending on backend this may map to the SIMT thread count or
inner loop nest parameters.</p>
<p>Corresponds to the <code>WorkgroupSize</code> SPIR-V built-in and the <code>blockDim</code> CUDA
built-in variable.</p>
<div class="highlight"><pre><span></span><code>%x = hal.interface.workgroup.size[0] : index
%y = hal.interface.workgroup.size[1] : index
%z = hal.interface.workgroup.size[2] : index
</code></pre></div>

<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>dimension</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h3 id="pipeline-layout-ops">Pipeline layout ops<a class="headerlink" href="#pipeline-layout-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.pipeline_layout</code> / <code>iree_hal_pipeline_layout_t</code>.</p>
<h4 id="halpipeline_layoutcreate-halpipelinelayoutcreateop"><code>hal.pipeline_layout.create</code> (HAL::PipelineLayoutCreateOp)<a class="headerlink" href="#halpipeline_layoutcreate-halpipelinelayoutcreateop" title="Permanent link">link</a></h4>
<p><em>Creates an pipeline layout</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.pipeline_layout.create` `device` `(` $device `:` type($device) `)`
              `push_constants` `(` $push_constants `)`
              `layouts` `(` `[` $set_layouts `]` `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Creates an pipeline layout from the given descriptor sets and push
constant required size. Pipeline layouts can be shared across any
executable that uses the same layout and push constant information. Sharing
the layout between executables will reduce runtime binding overhead and it
is often worth the cost to allow a small number of unused bindings in one
executable such that it can share layouts with others that will be scheduled
adjacent to it.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>push_constants</code></td>
<td align="center">::mlir::IntegerAttr</td>
<td>index attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
<tr>
<td align="center"><code>set_layouts</code></td>
<td>descriptor_set_layout</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>pipeline_layout</td>
</tr>
</tbody>
</table>
<h4 id="halpipeline_layoutlookup-halpipelinelayoutlookupop"><code>hal.pipeline_layout.lookup</code> (HAL::PipelineLayoutLookupOp)<a class="headerlink" href="#halpipeline_layoutlookup-halpipelinelayoutlookupop" title="Permanent link">link</a></h4>
<p><em>Pipeline layout cache lookup pseudo-op</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.pipeline_layout.lookup` `device` `(` $device `:` type($device) `)`
              `layout` `(` $layout `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

<p>Used during conversion to provide a placeholder for a globally cached and
possibly lazy-initialized pipeline layout.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>layout</code></td>
<td align="center">::mlir::iree_compiler::IREE::HAL::PipelineLayoutAttr</td>
<td>executable entry point layout specification</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>device</code></td>
<td>device</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>pipeline_layout</td>
</tr>
</tbody>
</table>
<h3 id="pseudo-ops">Pseudo Ops<a class="headerlink" href="#pseudo-ops" title="Permanent link">link</a></h3>
<p>Pseudo ops for conversion support.</p>
<h4 id="haltensorbarrier-haltensorbarrierop"><code>hal.tensor.barrier</code> (HAL::TensorBarrierOp)<a class="headerlink" href="#haltensorbarrier-haltensorbarrierop" title="Permanent link">link</a></h4>
<p><em>Signals a fence when all tensors are available</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.tensor.barrier` `join` `` `(` $sources `:` type($sources) `)`
              `=` `` `&gt;`
              $signal_fence `:` type($signal_fence)
              attr-dict-with-keyword
</code></pre></div>

<p>Defines a barrier that is used to indicate availability of an entire set of
tensors by signaling a fence. The source tensors are returned for chaining.</p>
<p>Interfaces: TiedOpInterface</p>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>sources</code></td>
<td>tensor of any type values</td>
</tr>
<tr>
<td align="center"><code>signal_fence</code></td>
<td>fence</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>tensor of any type values</td>
</tr>
</tbody>
</table>
<h4 id="haltensorexport-haltensorexportop"><code>hal.tensor.export</code> (HAL::TensorExportOp)<a class="headerlink" href="#haltensorexport-haltensorexportop" title="Permanent link">link</a></h4>
<p><em>Exports a tensor to a HAL buffer view</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.tensor.export` $source
              ($name^)?
              (`into` `(` $target_storage^ `:` type($target_storage) `)`)?
              `:`
              custom&lt;TypeAlias&gt;($source_encoding, type($source)) (`{` $source_dims^ `}`)?
              `-&gt;`
              type($target)
              attr-dict
</code></pre></div>

<p>Defines an export of an SSA-form tensor to an external HAL buffer view.</p>
<p>The provided <code>source_encoding</code>, if different from the <code>source</code> type,
indicates that the ABI-facing type may differ from the internal
representation. The types must be bitcastable (same storage size) and
dynamically shaped values must have the same number of dynamic dimensions.
This allows for casting between rank-0 and rank-N types, different element
types, etc.</p>
<p>An optional <code>target_storage</code> buffer can be provided to hold the exported
result. The export will fail at runtime if the storage is null or if it has
insufficient capacity to store the output. The storage must be
device-visible and defined for transfer-target and dispatch usage.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), TiedOpInterface, Util_ShapeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>tensor of any type values</td>
</tr>
<tr>
<td align="center"><code>source_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_storage</code></td>
<td>buffer or buffer_view</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>buffer or buffer_view</td>
</tr>
</tbody>
</table>
<h4 id="haltensorimport-haltensorimportop"><code>hal.tensor.import</code> (HAL::TensorImportOp)<a class="headerlink" href="#haltensorimport-haltensorimportop" title="Permanent link">link</a></h4>
<p><em>Imports a tensor from a HAL buffer view</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.tensor.import` (`wait` `(` $wait_fence^ `)` `=` `` `&gt;`)?
              $source
              ($name^)?
              `:` type($source) `-&gt;`
              custom&lt;TypeAlias&gt;($target_encoding, type($target)) (`{` $target_dims^ `}`)?
              attr-dict
</code></pre></div>

<p>Defines an import of an external HAL buffer view into a SSA-form tensor.
An optional semaphore timepoint can be specified indicating when the
buffer view is available for use. If no semaphore timepoint is provided it
is assumed the buffer view is immediately available.</p>
<p>The provided <code>target_encoding</code>, if different from the <code>target</code> type,
indicates that the ABI-facing type may differ from the internal
representation. The types must be bitcastable (same storage size) and
dynamically shaped values must have the same number of dynamic dimensions.
This allows for casting between rank-0 and rank-N types, different element
types, etc.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), TiedOpInterface, Util_ShapeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5>Attributes:</h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h5>Operands:</h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>buffer or buffer_view</td>
</tr>
<tr>
<td align="center"><code>target_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>wait_fence</code></td>
<td>fence</td>
</tr>
</tbody>
</table>
<h5>Results:</h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>tensor of any type values</td>
</tr>
</tbody>
</table>
<h2 id="attribute-definition">Attribute definition<a class="headerlink" href="#attribute-definition" title="Permanent link">link</a></h2>
<h3 id="affinityqueueattr">AffinityQueueAttr<a class="headerlink" href="#affinityqueueattr" title="Permanent link">link</a></h3>
<p>specifies a set of allowed queues for an operation</p>
<p>WIP; see <a href="https://github.com/openxla/iree/issues/10765">#10765</a>.
This may change in the future to either be a nested attribute on a larger
affinity struct or be defined by an implementation of the affinity attr
interface. For now this allows higher levels of the stack to specify
queues such that the stream dialect can understand them and they can be
lowered into the HAL dialect.</p>
<p>Specifies that an annotated operation or scope is only allowed to execute on
the set of queues (0-64) provided. Operations will not run on other queues.</p>
<p>Example:
<div class="highlight"><pre><span></span><code>// any queue
#hal.affinity.queue&lt;*&gt;
// queues 4 and 5
#hal.affinity.queue&lt;[4, 5]&gt;
</code></pre></div></p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">mask</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="collectiveattr">CollectiveAttr<a class="headerlink" href="#collectiveattr" title="Permanent link">link</a></h3>
<p>collective operation and specification</p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>#hal.collective&lt;
  CollectiveKind,   # kind
  std::optional&lt;CollectiveReductionOp&gt;,   # reduction
  CollectiveElementType   # element_type
&gt;
</code></pre></div>

<p>Specifies the collective operation to perform and any mode bits required.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">kind</td>
<td align="center"><code>CollectiveKind</code></td>
<td></td>
</tr>
<tr>
<td align="center">reduction</td>
<td align="center"><code>std::optional&lt;CollectiveReductionOp&gt;</code></td>
<td></td>
</tr>
<tr>
<td align="center">element_type</td>
<td align="center"><code>CollectiveElementType</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="descriptorsetbindingattr">DescriptorSetBindingAttr<a class="headerlink" href="#descriptorsetbindingattr" title="Permanent link">link</a></h3>
<p>descriptor set binding specification</p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>#hal.descriptor_set.binding&lt;
  int64_t,   # ordinal
  DescriptorType,   # type
  std::optional&lt;DescriptorFlags&gt;   # flags
&gt;
</code></pre></div>

<p>Specifies a single binding within a descriptor set layout.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">ordinal</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
<tr>
<td align="center">type</td>
<td align="center"><code>DescriptorType</code></td>
<td></td>
</tr>
<tr>
<td align="center">flags</td>
<td align="center"><code>std::optional&lt;DescriptorFlags&gt;</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="descriptorsetlayoutattr">DescriptorSetLayoutAttr<a class="headerlink" href="#descriptorsetlayoutattr" title="Permanent link">link</a></h3>
<p>descriptor set layout specification</p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>#hal.descriptor_set.layout&lt;
  int64_t,   # ordinal
  ::llvm::ArrayRef&lt;DescriptorSetBindingAttr&gt;   # bindings
&gt;
</code></pre></div>

<p>Specifies the layout information of a single set of descriptors used within
an pipeline layout. Multiple of these sets may be used by a single entry
point to allow for bindings with similar update frequencies to be grouped.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">ordinal</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
<tr>
<td align="center">bindings</td>
<td align="center"><code>::llvm::ArrayRef&lt;DescriptorSetBindingAttr&gt;</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="descriptortypeattr">DescriptorTypeAttr<a class="headerlink" href="#descriptortypeattr" title="Permanent link">link</a></h3>
<p>valid DescriptorType</p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>#hal.descriptor_type&lt;
  ::mlir::iree_compiler::IREE::HAL::DescriptorType   # value
&gt;
</code></pre></div>

<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">value</td>
<td align="center"><code>::mlir::iree_compiler::IREE::HAL::DescriptorType</code></td>
<td>an enum of type DescriptorType</td>
</tr>
</tbody>
</table>
<h3 id="devicematcharchitectureattr">DeviceMatchArchitectureAttr<a class="headerlink" href="#devicematcharchitectureattr" title="Permanent link">link</a></h3>
<p>matches against a device architecture pattern</p>
<p>Matches a device by its runtime architecture. The format of the architecture
pattern is device-dependent.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">pattern</td>
<td align="center"><code>StringAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="devicematchexecutableformatattr">DeviceMatchExecutableFormatAttr<a class="headerlink" href="#devicematchexecutableformatattr" title="Permanent link">link</a></h3>
<p>matches when a device supports the given executable format</p>
<p>Matches a device only if it claims to support the given executable format
pattern. It's still possible that the executable cannot be loaded such as if
it uses unavailable device features. This is used for queries such as
"can you load ELF libraries?" to quickly get to a set of executables to
attempt without needing to try dozens that definitely cannot be loaded.</p>
<p>Note that different devices may share the same executable formats: for
example a local synchronous CPU executor and a remote asynchronous CPU
executor can both load ELF libraries. It's also possible for the same device
to support multiple formats such as being able to load both
platform-agnostic ELF libraries and platform-specific DLL/MachO/etc
libraries.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">pattern</td>
<td align="center"><code>StringAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="devicematchfeatureattr">DeviceMatchFeatureAttr<a class="headerlink" href="#devicematchfeatureattr" title="Permanent link">link</a></h3>
<p>matches against a supported device feature pattern</p>
<p>Matches a device that supports the given feature. The format of the feature
pattern is device-dependent.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">pattern</td>
<td align="center"><code>StringAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="devicematchidattr">DeviceMatchIDAttr<a class="headerlink" href="#devicematchidattr" title="Permanent link">link</a></h3>
<p>matches against a device ID pattern</p>
<p>Matches a device by its canonical compiler/runtime ID.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">pattern</td>
<td align="center"><code>StringAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="devicetargetattr">DeviceTargetAttr<a class="headerlink" href="#devicetargetattr" title="Permanent link">link</a></h3>
<p>generic device target specification</p>
<p>Specifies the properties of a target runtime device.
Target devices are specified with a canonical identifier matching those used
by the runtime (such as <code>cpu</code>, <code>vulkan</code>, etc). Target devices may support
several target executable formats specified with <code>#hal.executable.target</code>.
An optional configuration dictionary allows for overriding backend defaults.</p>
<p>Example:
<div class="highlight"><pre><span></span><code>#hal.device.target&lt;&quot;llvm-cpu&quot;, {
  executable_targets = [
    #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;embedded-elf-arm_32&quot;&gt;,
    #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;embedded-elf-arm_64&quot;&gt;,
  ]
}&gt;
</code></pre></div></p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">deviceID</td>
<td align="center"><code>StringAttr</code></td>
<td></td>
</tr>
<tr>
<td align="center">configuration</td>
<td align="center"><code>DictionaryAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="executableobjectattr">ExecutableObjectAttr<a class="headerlink" href="#executableobjectattr" title="Permanent link">link</a></h3>
<p>object file reference</p>
<p>Defines an object file that can be linked into executables.
Today this is only supported for external file references with paths the
compiler can successfully resolve from its current working directory.
Inlined data can optionally be provided to avoid the need for file system
access and ensure the data source is attached to the IR as it makes its way
through multiple compiler stages or reproducers.</p>
<p>Future revisions may change this to an interface that allows both internal
and external resources to define the object contents. Linking needs to be
updated to support various object compositions and certain backends may
require additional infrastructure support.</p>
<p>In the long term the goal is to allow combinations of declared objects and
generated code in order to give control of linking behavior to frontends.
Instead of needing global command line flags to link in additional blobs
the frontend can emit executables with the dependencies already defined per
variant without needing to reach into the IREE compiler code.</p>
<p>Example:
<div class="highlight"><pre><span></span><code>#hal.executable.object&lt;{path = &quot;some/file.obj&quot;}&gt;
#hal.executable.object&lt;{
  path = &quot;some/embedded/file.obj&quot;,
  data = dense&lt;[...]&gt; : vector&lt;2048xi8&gt;
}&gt;
</code></pre></div></p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">path</td>
<td align="center"><code>StringAttr</code></td>
<td></td>
</tr>
<tr>
<td align="center">data</td>
<td align="center"><code>DenseIntElementsAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="executableobjectsattr">ExecutableObjectsAttr<a class="headerlink" href="#executableobjectsattr" title="Permanent link">link</a></h3>
<p>target-specific object file references</p>
<p>A dictionary mapping executable target specifications to a list of objects.
This is used to allow layers of the stack that support multi-targeting to
specify information used during lowering into each particular target.</p>
<p>The key attributes are matched against each target variant based on the
backend and format as well as any configuration data provided. When
comparing the configuration only fields present in both the key and
target variant will be checked and must match. This allows specification of
generic sets ("all x86_64 targets get these objects") as well as specific
ones ("only x86_64 targets with vector_size = 64 get these objects").</p>
<p>Example:
<div class="highlight"><pre><span></span><code>#hal.executable.objects&lt;{
  #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;embedded-elf-arm_64&quot;&gt; = [
    #hal.executable.object&lt;{path = &quot;some/file_arm_64.obj&quot;}&gt;
  ],
  #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;embedded-elf-x86_64&quot;&gt; = [
    #hal.executable.object&lt;{path = &quot;some/file_x86_64.obj&quot;}&gt;
  ]
}&gt;
</code></pre></div></p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">targets</td>
<td align="center"><code>ArrayAttr</code></td>
<td></td>
</tr>
<tr>
<td align="center">targetObjects</td>
<td align="center"><code>ArrayAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="executabletargetattr">ExecutableTargetAttr<a class="headerlink" href="#executabletargetattr" title="Permanent link">link</a></h3>
<p>generic executable target specification</p>
<p>Specifies how to compile an executable for a specific target backend.
A backend is used to translate and serialize the executable into the final
form passed to the runtime. The format of the executable is a
target-specific value indicating the required runtime support to load the
deployed artifact. An optionally provided configuration dictionary overrides
backend-specific defaults.</p>
<p>Example:
<div class="highlight"><pre><span></span><code>  // Produce a system-native ELF for x86-64 systems using the LLVM backend:
  #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;system-elf-x86_64&quot;, {
    triple = &quot;x86_64-unknown-linux-elf&quot;,
    cpu = &quot;host&quot;,
    cpu_features = &quot;host&quot;,
    abi = &quot;lp32&quot;,
    ...
  }&gt;
</code></pre></div></p>
<p>The same compilation backend may be used to translate executables for
several different runtime devices. Likewise the same runtime device may use
one of many different executable targets. Assume an N:M mapping between the
two in all cases.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">backend</td>
<td align="center"><code>StringAttr</code></td>
<td></td>
</tr>
<tr>
<td align="center">format</td>
<td align="center"><code>StringAttr</code></td>
<td></td>
</tr>
<tr>
<td align="center">configuration</td>
<td align="center"><code>DictionaryAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="interfacebindingattr">InterfaceBindingAttr<a class="headerlink" href="#interfacebindingattr" title="Permanent link">link</a></h3>
<p>interface binding specification</p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>#hal.interface.binding&lt;
  int64_t,   # set
  int64_t   # binding
&gt;
</code></pre></div>

<p>Specifies the descriptor set and binding ordinal of a particular layout
binding.</p>
<p>Example:
<div class="highlight"><pre><span></span><code>#hal.interface.binding&lt;0, 1&gt;
</code></pre></div></p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">set</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
<tr>
<td align="center">binding</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="matchallattr">MatchAllAttr<a class="headerlink" href="#matchallattr" title="Permanent link">link</a></h3>
<p>matches if all subexpressions match</p>
<p>Returns true only if all subexpressions return true (logical AND) or empty.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">conditions</td>
<td align="center"><code>ArrayAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="matchalwaysattr">MatchAlwaysAttr<a class="headerlink" href="#matchalwaysattr" title="Permanent link">link</a></h3>
<p>always matches</p>
<p>Syntax: <code>#hal.match.always</code></p>
<p>Returns true (constant true).</p>
<h3 id="matchanyattr">MatchAnyAttr<a class="headerlink" href="#matchanyattr" title="Permanent link">link</a></h3>
<p>matches if any subexpression matches</p>
<p>Returns true if any subexpression matches (logical OR) and not empty.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">conditions</td>
<td align="center"><code>ArrayAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="pipelinelayoutattr">PipelineLayoutAttr<a class="headerlink" href="#pipelinelayoutattr" title="Permanent link">link</a></h3>
<p>executable entry point layout specification</p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>#hal.pipeline.layout&lt;
  int64_t,   # pushConstants
  ::llvm::ArrayRef&lt;DescriptorSetLayoutAttr&gt;   # setLayouts
&gt;
</code></pre></div>

<p>Specifies the layout information used for interacting with executable
functions. This allows host code to correctly map parameters to the
lower-level target-specific argument passing behavior.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">pushConstants</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
<tr>
<td align="center">setLayouts</td>
<td align="center"><code>::llvm::ArrayRef&lt;DescriptorSetLayoutAttr&gt;</code></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="type-constraint-definition">Type constraint definition<a class="headerlink" href="#type-constraint-definition" title="Permanent link">link</a></h2>
<h3 id="allocator">allocator<a class="headerlink" href="#allocator" title="Permanent link">link</a></h3>
<p>Allocates buffers for a particular device memory space.</p>
<h3 id="buffer">buffer<a class="headerlink" href="#buffer" title="Permanent link">link</a></h3>
<p>A memory buffer with a specific memory_type that is used to describe the
capabilities and behavior of the backing memory of the buffer. Buffers may
be any mix of host-accessible, host-coherent, or device-accessible for
various usages. Depending on these memory types the buffers may be mapped
for access on the host as memory though certain restrictions may be imposed.</p>
<h3 id="buffer_view">buffer_view<a class="headerlink" href="#buffer_view" title="Permanent link">link</a></h3>
<p>A shaped and typed buffer reference. This just wraps an existing hal.buffer
with its associated metadata to make it easier to pass across ABI
boundaries. In most cases buffer views can be elided entirely by the
compiler and they'll only be seen when calling external functions.</p>
<h3 id="collectivechannel">collective.channel<a class="headerlink" href="#collectivechannel" title="Permanent link">link</a></h3>
<p>Channel identifier used to allow for participation in multiple collective
groups.</p>
<h3 id="command_buffer">command_buffer<a class="headerlink" href="#command_buffer" title="Permanent link">link</a></h3>
<p>Asynchronous command buffer recording interface. Commands are recorded by
the implementation for later submission to command queues.</p>
<h3 id="descriptor_set_layout">descriptor_set_layout<a class="headerlink" href="#descriptor_set_layout" title="Permanent link">link</a></h3>
<p>Descriptor set layout.</p>
<h3 id="device">device<a class="headerlink" href="#device" title="Permanent link">link</a></h3>
<p>Logical device instance.</p>
<h3 id="event">event<a class="headerlink" href="#event" title="Permanent link">link</a></h3>
<p>Events are used for defining synchronization scopes within CommandBuffers.
An event only exists within a single CommandBuffer and must not be used
across CommandBuffers from the same device or others.</p>
<h3 id="executable">executable<a class="headerlink" href="#executable" title="Permanent link">link</a></h3>
<p>A prepared and ready-to-dispatch executable.</p>
<h3 id="fence">fence<a class="headerlink" href="#fence" title="Permanent link">link</a></h3>
<p>A set of semaphore timepoints defining a common point in time across
multiple timelines.</p>
<h3 id="pipeline_layout">pipeline_layout<a class="headerlink" href="#pipeline_layout" title="Permanent link">link</a></h3>
<p>An pipeline layout describing the descriptor sets and push constants used.</p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 The IREE Authors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/openxla/iree" target="_blank" rel="noopener" title="IREE on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://discord.gg/26P4xW4" target="_blank" rel="noopener" title="IREE Discord Server" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://groups.google.com/forum/#!forum/iree-discuss" target="_blank" rel="noopener" title="IREE Discuss Google Group" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M144 0a80 80 0 1 1 0 160 80 80 0 1 1 0-160zm368 0a80 80 0 1 1 0 160 80 80 0 1 1 0-160zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7-1.3 7.2-1.9 14.7-1.9 22.3 0 38.2 16.8 72.5 43.3 96H21.3C9.6 320 0 310.4 0 298.7zM405.3 320h-.7c26.6-23.5 43.3-57.8 43.3-96 0-7.6-.7-15-1.9-22.3 13.6-6.3 28.7-9.7 44.6-9.7h42.7c58.9 0 106.7 47.8 106.7 106.7 0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1-192 0zm-96 261.3c0-73.6 59.7-133.3 133.3-133.3h117.4c73.6 0 133.3 59.7 133.3 133.3 0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.instant", "navigation.tracking", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.indexes", "toc.follow"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.a51614de.min.js"></script>
      
    
  </body>
</html>